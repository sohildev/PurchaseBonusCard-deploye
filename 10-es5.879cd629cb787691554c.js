!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"3XR4":function(r,o,i){"use strict";i.r(o),i.d(o,"routes",function(){return C}),i.d(o,"RewardPointsBurnBonusAddModule",function(){return L});var n=i("ofXK"),a=i("tyNb"),s=i("l1aK"),b=i("3Pt+"),c=i("ebz3"),d=i("ZOsW"),u=i("Jvtu"),l=i("gW3T"),p=i("jLqM"),m=i("Lw2Y"),f=i("zzOR"),v=i("fXoL"),h=i("IYWQ"),g=i("jhN1"),S=i("VT7O"),R=i("/n7v"),w=i("GgBf"),_=i("hR8x");function y(e,t){1&e&&v.Nb(0,"i",25)}var B,k,C=[{path:"",component:(B=function(){function r(t,o,i,n,a,s,c,d){e(this,r),this.router=t,this.fb=o,this.activatedRoute=i,this.rewardPointsBurnBonusService=n,this.campaignService=a,this.bonusBoosterService=s,this.cdr=c,this.titleService=d,this.exampleOptions=f.a,this.campingListArray=[],this.BonusBoosterListArray=[],this.loadingState=!1,this.showLoader=!1,this.valid_from=new Date,this.valid_until=new Date,this.formErrors={code:null,apierror:null},this.isEditing=!1,this.editId=null,this.pageTitle="Create Reward Points Burn Bonus",this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({code:[null,b.q.compose([b.q.required])],campaign:[null,b.q.compose([b.q.required])],bonus_booster:[null,b.q.compose([b.q.required])],reward_burn_rate_percent:[null,b.q.compose([b.q.required,b.q.max(101),b.q.min(.1)])],valid_from:[null],valid_until:[null],is_active:[!1]})}var o,i,n;return o=r,(i=[{key:"ngOnInit",value:function(){this.getMasterData(),this.titleService.setTitle(this.pageTitle+" | bonus777 "),this.isEditing&&(this.getEditObject(),this.pageTitle="Update Reward Points Burn Bonus",this.titleService.setTitle(this.pageTitle+" | bonus777 "))}},{key:"ngAfterViewChecked",value:function(){this.cdr.detectChanges()}},{key:"getMasterData",value:function(){var e=this;this.campaignService.getCampaignList({}).subscribe(function(t){t&&(e.campingListArray=t)}),this.bonusBoosterService.getBonusBoosterList({}).subscribe(function(t){t&&(e.BonusBoosterListArray=t)})}},{key:"getEditObject",value:function(){var e=this;this.rewardPointsBurnBonusService.getRewardPointsBurnBonusById(this.editId).subscribe(function(t){t?(e.valid_from=t.valid_from,e.valid_until=t.valid_until,e.addForm.patchValue({code:t.code,campaign:t.campaign,reward_burn_rate_percent:t.reward_burn_rate_percent,bonus_booster:t.bonus_booster,is_active:t.is_active})):e.router.navigateByUrl("/reward-points-burn-bonus")})}},{key:"submitForm",value:function(e){var t=this;if(e.valid){this.showLoader=!0;var r=new FormData;r.append("code",e.value.code),r.append("campaign",e.value.campaign),r.append("bonus_booster",e.value.bonus_booster),r.append("reward_burn_rate_percent",e.value.reward_burn_rate_percent),r.append("valid_from",m.a.changedateFormate(e.value.valid_from[0])),r.append("valid_until",m.a.changedateFormate(e.value.valid_until[0])),r.append("is_active",!!e.value.is_active&&e.value.is_active),this.isEditing?this.rewardPointsBurnBonusService.editRewardPointsBurnBonus(this.editId,r).subscribe(function(e){t.showLoader=!1,e&&t.router.navigateByUrl("/reward-points-burn-bonus")},function(e){t.showLoader=!1}):this.rewardPointsBurnBonusService.addRewardPointsBurnBonus(r).subscribe(function(e){t.showLoader=!1,e&&t.router.navigateByUrl("/reward-points-burn-bonus")},function(e){t.showLoader=!1})}}}])&&t(o.prototype,i),n&&t(o,n),r}(),B.\u0275fac=function(e){return new(e||B)(v.Mb(a.f),v.Mb(b.d),v.Mb(a.a),v.Mb(h.a),v.Mb(s.a),v.Mb(l.a),v.Mb(v.h),v.Mb(g.e))},B.\u0275cmp=v.Gb({type:B,selectors:[["app-reward-points-burn-bonus-add"]],decls:59,vars:18,consts:[[1,"row"],[1,"col-sm-12"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[3,"cardTitle","options"],[1,"col-md-6"],[1,"form-group"],["type","text","placeholder","code",1,"form-control",3,"formControl"],[1,"control-label","text-md-right"],[1,"date-picker"],[3,"setDate","formControl","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],[1,"input-group","mb-3"],["floatNumber","","type","text","placeholder","reward burn rate percent",1,"form-control",3,"formControl"],[1,"input-group-append"],[1,"input-group-text"],[1,"form-group","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input",3,"formControl"],["for","exampleCheck1",1,"form-check-label"],["number","","bindLabel","name","bindValue","id","placeholder","Select campaign",3,"formControl","items"],["number","","bindLabel","code","bindValue","id","placeholder","Select bonus booster",3,"formControl","items"],[1,"text-right","border-top","py-4","mt-2","card-footer"],["type","button","routerLink","/reward-points-burn-bonus",1,"btn","btn-light"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,t){1&e&&(v.Sb(0,"div",0),v.Sb(1,"div",1),v.Sb(2,"form",2),v.cc("ngSubmit",function(){return t.submitForm(t.addForm)}),v.Sb(3,"app-card",3),v.Sb(4,"div",0),v.Sb(5,"div",4),v.Sb(6,"div",5),v.Sb(7,"label"),v.Gc(8,"Code "),v.Sb(9,"em"),v.Gc(10,"*"),v.Rb(),v.Rb(),v.Nb(11,"input",6),v.Rb(),v.Sb(12,"div",5),v.Sb(13,"label",7),v.Gc(14,"Valid Until "),v.Rb(),v.Sb(15,"div",8),v.Nb(16,"ng2-flatpickr",9),v.Sb(17,"span",10),v.Nb(18,"span",11),v.Rb(),v.Rb(),v.Rb(),v.Sb(19,"div",5),v.Sb(20,"label"),v.Gc(21,"Reward Burn Rate Percent "),v.Sb(22,"em"),v.Gc(23,"*"),v.Rb(),v.Rb(),v.Sb(24,"div",12),v.Nb(25,"input",13),v.Sb(26,"div",14),v.Sb(27,"span",15),v.Gc(28," % "),v.Rb(),v.Rb(),v.Rb(),v.Rb(),v.Sb(29,"div",16),v.Nb(30,"input",17),v.Sb(31,"label",18),v.Gc(32,"Is Active"),v.Rb(),v.Rb(),v.Rb(),v.Sb(33,"div",4),v.Sb(34,"div",5),v.Sb(35,"label",7),v.Gc(36,"Valid From "),v.Rb(),v.Sb(37,"div",8),v.Nb(38,"ng2-flatpickr",9),v.Sb(39,"span",10),v.Nb(40,"span",11),v.Rb(),v.Rb(),v.Rb(),v.Sb(41,"div",5),v.Sb(42,"label"),v.Gc(43,"Campaign "),v.Sb(44,"em"),v.Gc(45,"*"),v.Rb(),v.Rb(),v.Nb(46,"ng-select",19),v.Rb(),v.Sb(47,"div",5),v.Sb(48,"label"),v.Gc(49,"Bonus Booster "),v.Sb(50,"em"),v.Gc(51,"*"),v.Rb(),v.Rb(),v.Nb(52,"ng-select",20),v.Rb(),v.Rb(),v.Rb(),v.Rb(),v.Sb(53,"div",21),v.Sb(54,"button",22),v.Gc(55," Cancel "),v.Rb(),v.Sb(56,"button",23),v.Ec(57,y,1,0,"i",24),v.Gc(58," Submit "),v.Rb(),v.Rb(),v.Rb(),v.Rb(),v.Rb()),2&e&&(v.yb(2),v.kc("formGroup",t.addForm),v.yb(1),v.kc("cardTitle",t.pageTitle)("options",!1),v.yb(8),v.kc("formControl",t.addForm.controls.code),v.yb(5),v.kc("setDate",t.valid_until)("formControl",t.addForm.controls.valid_until)("config",t.exampleOptions),v.yb(9),v.kc("formControl",t.addForm.controls.reward_burn_rate_percent),v.yb(5),v.kc("formControl",t.addForm.controls.is_active),v.yb(8),v.kc("setDate",t.valid_from)("formControl",t.addForm.controls.valid_from)("config",t.exampleOptions),v.yb(8),v.kc("formControl",t.addForm.controls.campaign)("items",t.campingListArray),v.yb(6),v.kc("formControl",t.addForm.controls.bonus_booster)("items",t.BonusBoosterListArray),v.yb(4),v.kc("disabled",t.showLoader),v.yb(1),v.kc("ngIf",t.showLoader))},directives:[b.s,b.l,S.a,b.f,R.a,b.c,b.k,b.e,w.a,u.a,_.a,b.a,d.a,_.b,a.g,n.m],encapsulation:2}),B)}],L=((k=function t(){e(this,t)}).\u0275mod=v.Kb({type:k}),k.\u0275inj=v.Jb({factory:function(e){return new(e||k)},providers:[s.a,l.a,h.a],imports:[[n.b,b.g,b.p,c.a,d.b,u.b,p.a,a.j.forChild(C)]]}),k)}}])}();