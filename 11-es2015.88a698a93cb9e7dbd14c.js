(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"90U+":function(e,r,o){"use strict";o.r(r),o.d(r,"routes",function(){return R}),o.d(r,"SignupBonusAddModule",function(){return w});var t=o("ofXK"),a=o("tyNb"),i=o("l1aK"),n=o("Lw2Y"),l=o("3Pt+"),s=o("zzOR"),b=o("fXoL"),c=o("/wba"),d=o("jhN1"),p=o("VT7O"),u=o("/n7v"),m=o("GgBf"),_=o("Jvtu"),f=o("hR8x"),g=o("ZOsW");function h(e,r){1&e&&b.Nb(0,"i",28)}let v=(()=>{class e{constructor(e,r,o,t,a,i,n){this.router=e,this.fb=r,this.activatedRoute=o,this.signUpBonusService=t,this.campaignService=a,this.cdr=i,this.titleService=n,this.exampleOptions=s.a,this.campingListArray=[],this.referralCodeTypeArray=[],this.loadingState=!1,this.showLoader=!1,this.valid_from=new Date,this.valid_until=new Date,this.formErrors={name:null,apierror:null},this.isEditing=!1,this.editId=null,this.pageTitle="Create Sign Up Bonus",this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({code:[null,l.q.compose([l.q.required])],campaign:[null,l.q.compose([l.q.required])],referral_code_type:[null,l.q.compose([l.q.required])],valid_from:[null],valid_until:[null],is_active:[!1],used_referral_code:[!1],otc_amount:[null,l.q.compose([l.q.required])],otc_expiry:[null,l.q.compose([l.q.required])],wager_amount:[null,l.q.compose([l.q.required])],wager_bonus_expiry:[null,l.q.compose([l.q.required])],wager_to_release_ratio_numerator:[null,l.q.compose([l.q.required])],wager_to_release_ratio_denominator:[null,l.q.compose([l.q.required])]})}ngOnInit(){this.getMasterData(),this.titleService.setTitle(this.pageTitle+" | bonus777 "),this.isEditing&&(this.getEditObject(),this.pageTitle="Update Sign Up Bonus",this.titleService.setTitle(this.pageTitle+" | bonus777 "))}ngAfterViewChecked(){this.cdr.detectChanges()}getMasterData(){this.referralCodeTypeArray=n.b.REFERRAL_CODE_TYPE_CHOICES,this.campaignService.getCampaignList({}).subscribe(e=>{e&&(this.campingListArray=e)})}getEditObject(){this.signUpBonusService.getSignUpBonusById(this.editId).subscribe(e=>{e?(this.valid_from=e.valid_from,this.valid_until=e.valid_until,this.addForm.patchValue({code:e.code,campaign:e.campaign,referral_code_type:e.referral_code_type,is_active:e.is_active,used_referral_code:e.used_referral_code,otc_amount:e.otc_amount,otc_expiry:e.otc_expiry,wager_amount:e.wager_amount,wager_bonus_expiry:e.wager_bonus_expiry,wager_to_release_ratio_numerator:e.wager_to_release_ratio_numerator,wager_to_release_ratio_denominator:e.wager_to_release_ratio_denominator})):this.router.navigateByUrl("/sign-up-bonus")})}submitForm(e){if(e.valid){this.showLoader=!0;const r=new FormData;r.append("code",e.value.code),r.append("campaign",e.value.campaign),e.value.referral_code_type&&r.append("referral_code_type",e.value.referral_code_type),r.append("valid_from",n.a.changedateFormate(e.value.valid_from[0])),r.append("valid_until",n.a.changedateFormate(e.value.valid_until[0])),r.append("is_active",!!e.value.is_active&&e.value.is_active),r.append("used_referral_code",!!e.value.used_referral_code&&e.value.used_referral_code),r.append("otc_amount",e.value.otc_amount),r.append("otc_expiry",e.value.otc_expiry),r.append("wager_amount",e.value.wager_amount),r.append("wager_bonus_expiry",e.value.wager_bonus_expiry),r.append("wager_to_release_ratio_numerator",e.value.wager_to_release_ratio_numerator),r.append("wager_to_release_ratio_denominator",e.value.wager_to_release_ratio_denominator),this.isEditing?this.signUpBonusService.editSignUpBonus(this.editId,r).subscribe(e=>{this.showLoader=!1,e&&this.router.navigateByUrl("/sign-up-bonus")},e=>{this.showLoader=!1}):this.signUpBonusService.addSignUpBonus(r).subscribe(e=>{this.showLoader=!1,e&&this.router.navigateByUrl("/sign-up-bonus")},e=>{this.showLoader=!1})}}}return e.\u0275fac=function(r){return new(r||e)(b.Mb(a.f),b.Mb(l.d),b.Mb(a.a),b.Mb(c.a),b.Mb(i.a),b.Mb(b.h),b.Mb(d.e))},e.\u0275cmp=b.Gb({type:e,selectors:[["app-signup-bonus-add"]],decls:89,vars:24,consts:[[1,"row"],[1,"col-sm-12"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[3,"cardTitle","options"],[1,"col-md-6"],[1,"form-group"],["type","text","placeholder","code",1,"form-control",3,"formControl"],[1,"control-label","text-md-right"],[1,"date-picker"],[3,"setDate","formControl","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],["for","exampleFormControlTextarea1"],["number","","type","text","placeholder","otc amount",1,"form-control",3,"formControl"],["number","","type","text","placeholder","otc expiry",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager amount",1,"form-control",3,"formControl"],[1,"form-group","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input",3,"formControl"],["for","exampleCheck1",1,"form-check-label"],["number","","bindLabel","name","bindValue","id","placeholder","Select campaign",3,"formControl","items"],["number","","bindLabel","label","bindValue","value","placeholder","Select referral code type",3,"formControl","items"],["number","","type","text","placeholder","wager bonus expiry",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio numerator",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio denominator",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-2","card-footer"],["type","button","routerLink","/sign-up-bonus",1,"btn","btn-light"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,r){1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"form",2),b.cc("ngSubmit",function(){return r.submitForm(r.addForm)}),b.Sb(3,"app-card",3),b.Sb(4,"div",0),b.Sb(5,"div",4),b.Sb(6,"div",5),b.Sb(7,"label"),b.Gc(8,"Code "),b.Sb(9,"em"),b.Gc(10,"*"),b.Rb(),b.Rb(),b.Nb(11,"input",6),b.Rb(),b.Sb(12,"div",5),b.Sb(13,"label",7),b.Gc(14,"Valid Until "),b.Rb(),b.Sb(15,"div",8),b.Nb(16,"ng2-flatpickr",9),b.Sb(17,"span",10),b.Nb(18,"span",11),b.Rb(),b.Rb(),b.Rb(),b.Sb(19,"div",5),b.Sb(20,"label",12),b.Gc(21,"Otc Amount "),b.Sb(22,"em"),b.Gc(23,"*"),b.Rb(),b.Rb(),b.Nb(24,"input",13),b.Rb(),b.Sb(25,"div",5),b.Sb(26,"label",12),b.Gc(27,"Otc Expiry "),b.Sb(28,"em"),b.Gc(29,"*"),b.Rb(),b.Rb(),b.Nb(30,"input",14),b.Rb(),b.Sb(31,"div",5),b.Sb(32,"label",12),b.Gc(33,"Wager Amount "),b.Sb(34,"em"),b.Gc(35,"*"),b.Rb(),b.Rb(),b.Nb(36,"input",15),b.Rb(),b.Sb(37,"div",16),b.Nb(38,"input",17),b.Sb(39,"label",18),b.Gc(40,"Is Active"),b.Rb(),b.Rb(),b.Sb(41,"div",16),b.Nb(42,"input",17),b.Sb(43,"label",18),b.Gc(44," Used Referral Code"),b.Rb(),b.Rb(),b.Rb(),b.Sb(45,"div",4),b.Sb(46,"div",5),b.Sb(47,"label"),b.Gc(48,"Campaign "),b.Sb(49,"em"),b.Gc(50,"*"),b.Rb(),b.Rb(),b.Nb(51,"ng-select",19),b.Rb(),b.Sb(52,"div",5),b.Sb(53,"label",7),b.Gc(54,"Valid From "),b.Rb(),b.Sb(55,"div",8),b.Nb(56,"ng2-flatpickr",9),b.Sb(57,"span",10),b.Nb(58,"span",11),b.Rb(),b.Rb(),b.Rb(),b.Sb(59,"div",5),b.Sb(60,"label"),b.Gc(61,"Referral Code Type "),b.Sb(62,"em"),b.Gc(63,"*"),b.Rb(),b.Rb(),b.Nb(64,"ng-select",20),b.Rb(),b.Sb(65,"div",5),b.Sb(66,"label",12),b.Gc(67,"Wager Bonus Expiry "),b.Sb(68,"em"),b.Gc(69,"*"),b.Rb(),b.Rb(),b.Nb(70,"input",21),b.Rb(),b.Sb(71,"div",5),b.Sb(72,"label",12),b.Gc(73,"Wager To Release Ratio Numerator "),b.Sb(74,"em"),b.Gc(75,"*"),b.Rb(),b.Rb(),b.Nb(76,"input",22),b.Rb(),b.Sb(77,"div",5),b.Sb(78,"label",12),b.Gc(79,"Wager To Release Ratio Denominator "),b.Sb(80,"em"),b.Gc(81,"*"),b.Rb(),b.Rb(),b.Nb(82,"input",23),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(83,"div",24),b.Sb(84,"button",25),b.Gc(85," Cancel "),b.Rb(),b.Sb(86,"button",26),b.Ec(87,h,1,0,"i",27),b.Gc(88," Submit "),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e&&(b.yb(2),b.kc("formGroup",r.addForm),b.yb(1),b.kc("cardTitle",r.pageTitle)("options",!1),b.yb(8),b.kc("formControl",r.addForm.controls.code),b.yb(5),b.kc("setDate",r.valid_until)("formControl",r.addForm.controls.valid_until)("config",r.exampleOptions),b.yb(8),b.kc("formControl",r.addForm.controls.otc_amount),b.yb(6),b.kc("formControl",r.addForm.controls.otc_expiry),b.yb(6),b.kc("formControl",r.addForm.controls.wager_amount),b.yb(2),b.kc("formControl",r.addForm.controls.is_active),b.yb(4),b.kc("formControl",r.addForm.controls.used_referral_code),b.yb(9),b.kc("formControl",r.addForm.controls.campaign)("items",r.campingListArray),b.yb(5),b.kc("setDate",r.valid_from)("formControl",r.addForm.controls.valid_from)("config",r.exampleOptions),b.yb(8),b.kc("formControl",r.addForm.controls.referral_code_type)("items",r.referralCodeTypeArray),b.yb(6),b.kc("formControl",r.addForm.controls.wager_bonus_expiry),b.yb(6),b.kc("formControl",r.addForm.controls.wager_to_release_ratio_numerator),b.yb(6),b.kc("formControl",r.addForm.controls.wager_to_release_ratio_denominator),b.yb(4),b.kc("disabled",r.showLoader),b.yb(1),b.kc("ngIf",r.showLoader))},directives:[l.s,l.l,p.a,l.f,u.a,l.c,l.k,l.e,m.a,_.a,f.b,l.a,g.a,a.g,t.m],encapsulation:2}),e})();var y=o("ebz3"),S=o("jLqM");const R=[{path:"",component:v}];let w=(()=>{class e{}return e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({factory:function(r){return new(r||e)},providers:[i.a,c.a],imports:[[t.b,l.g,l.p,y.a,g.b,_.b,S.a,a.j.forChild(R)]]}),e})()}}]);