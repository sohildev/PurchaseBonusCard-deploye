!function(){function e(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function o(e,o){for(var r=0;r<o.length;r++){var t=o[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"90U+":function(r,t,a){"use strict";a.r(t),a.d(t,"routes",function(){return x}),a.d(t,"SignupBonusAddModule",function(){return q});var i=a("ofXK"),n=a("tyNb"),l=a("l1aK"),c=a("Lw2Y"),b=a("3Pt+"),d=a("zzOR"),s=a("fXoL"),u=a("/wba"),p=a("jhN1"),m=a("VT7O"),_=a("/n7v"),f=a("GgBf"),g=a("Jvtu"),v=a("hR8x"),h=a("ZOsW");function y(e,o){1&e&&s.Nb(0,"i",28)}var S,R,w=((S=function(){function r(o,t,a,i,n,l,c){e(this,r),this.router=o,this.fb=t,this.activatedRoute=a,this.signUpBonusService=i,this.campaignService=n,this.cdr=l,this.titleService=c,this.exampleOptions=d.a,this.campingListArray=[],this.referralCodeTypeArray=[],this.loadingState=!1,this.showLoader=!1,this.valid_from=new Date,this.valid_until=new Date,this.formErrors={name:null,apierror:null},this.isEditing=!1,this.editId=null,this.pageTitle="Create Sign Up Bonus",this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({code:[null,b.q.compose([b.q.required])],campaign:[null,b.q.compose([b.q.required])],referral_code_type:[null,b.q.compose([b.q.required])],valid_from:[null],valid_until:[null],is_active:[!1],used_referral_code:[!1],otc_amount:[null,b.q.compose([b.q.required])],otc_expiry:[null,b.q.compose([b.q.required])],wager_amount:[null,b.q.compose([b.q.required])],wager_bonus_expiry:[null,b.q.compose([b.q.required])],wager_to_release_ratio_numerator:[null,b.q.compose([b.q.required])],wager_to_release_ratio_denominator:[null,b.q.compose([b.q.required])]})}var t,a,i;return t=r,(a=[{key:"ngOnInit",value:function(){this.getMasterData(),this.titleService.setTitle(this.pageTitle+" | bonus777 "),this.isEditing&&(this.getEditObject(),this.pageTitle="Update Sign Up Bonus",this.titleService.setTitle(this.pageTitle+" | bonus777 "))}},{key:"ngAfterViewChecked",value:function(){this.cdr.detectChanges()}},{key:"getMasterData",value:function(){var e=this;this.referralCodeTypeArray=c.b.REFERRAL_CODE_TYPE_CHOICES,this.campaignService.getCampaignList({}).subscribe(function(o){o&&(e.campingListArray=o)})}},{key:"getEditObject",value:function(){var e=this;this.signUpBonusService.getSignUpBonusById(this.editId).subscribe(function(o){o?(e.valid_from=o.valid_from,e.valid_until=o.valid_until,e.addForm.patchValue({code:o.code,campaign:o.campaign,referral_code_type:o.referral_code_type,is_active:o.is_active,used_referral_code:o.used_referral_code,otc_amount:o.otc_amount,otc_expiry:o.otc_expiry,wager_amount:o.wager_amount,wager_bonus_expiry:o.wager_bonus_expiry,wager_to_release_ratio_numerator:o.wager_to_release_ratio_numerator,wager_to_release_ratio_denominator:o.wager_to_release_ratio_denominator})):e.router.navigateByUrl("/sign-up-bonus")})}},{key:"submitForm",value:function(e){var o=this;if(e.valid){this.showLoader=!0;var r=new FormData;r.append("code",e.value.code),r.append("campaign",e.value.campaign),e.value.referral_code_type&&r.append("referral_code_type",e.value.referral_code_type),r.append("valid_from",c.a.changedateFormate(e.value.valid_from[0])),r.append("valid_until",c.a.changedateFormate(e.value.valid_until[0])),r.append("is_active",!!e.value.is_active&&e.value.is_active),r.append("used_referral_code",!!e.value.used_referral_code&&e.value.used_referral_code),r.append("otc_amount",e.value.otc_amount),r.append("otc_expiry",e.value.otc_expiry),r.append("wager_amount",e.value.wager_amount),r.append("wager_bonus_expiry",e.value.wager_bonus_expiry),r.append("wager_to_release_ratio_numerator",e.value.wager_to_release_ratio_numerator),r.append("wager_to_release_ratio_denominator",e.value.wager_to_release_ratio_denominator),this.isEditing?this.signUpBonusService.editSignUpBonus(this.editId,r).subscribe(function(e){o.showLoader=!1,e&&o.router.navigateByUrl("/sign-up-bonus")},function(e){o.showLoader=!1}):this.signUpBonusService.addSignUpBonus(r).subscribe(function(e){o.showLoader=!1,e&&o.router.navigateByUrl("/sign-up-bonus")},function(e){o.showLoader=!1})}}}])&&o(t.prototype,a),i&&o(t,i),r}()).\u0275fac=function(e){return new(e||S)(s.Mb(n.f),s.Mb(b.d),s.Mb(n.a),s.Mb(u.a),s.Mb(l.a),s.Mb(s.h),s.Mb(p.e))},S.\u0275cmp=s.Gb({type:S,selectors:[["app-signup-bonus-add"]],decls:89,vars:24,consts:[[1,"row"],[1,"col-sm-12"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[3,"cardTitle","options"],[1,"col-md-6"],[1,"form-group"],["type","text","placeholder","code",1,"form-control",3,"formControl"],[1,"control-label","text-md-right"],[1,"date-picker"],[3,"setDate","formControl","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],["for","exampleFormControlTextarea1"],["number","","type","text","placeholder","otc amount",1,"form-control",3,"formControl"],["number","","type","text","placeholder","otc expiry",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager amount",1,"form-control",3,"formControl"],[1,"form-group","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input",3,"formControl"],["for","exampleCheck1",1,"form-check-label"],["number","","bindLabel","name","bindValue","id","placeholder","Select campaign",3,"formControl","items"],["number","","bindLabel","label","bindValue","value","placeholder","Select referral code type",3,"formControl","items"],["number","","type","text","placeholder","wager bonus expiry",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio numerator",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio denominator",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-2","card-footer"],["type","button","routerLink","/sign-up-bonus",1,"btn","btn-light"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,o){1&e&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"form",2),s.cc("ngSubmit",function(){return o.submitForm(o.addForm)}),s.Sb(3,"app-card",3),s.Sb(4,"div",0),s.Sb(5,"div",4),s.Sb(6,"div",5),s.Sb(7,"label"),s.Gc(8,"Code "),s.Sb(9,"em"),s.Gc(10,"*"),s.Rb(),s.Rb(),s.Nb(11,"input",6),s.Rb(),s.Sb(12,"div",5),s.Sb(13,"label",7),s.Gc(14,"Valid Until "),s.Rb(),s.Sb(15,"div",8),s.Nb(16,"ng2-flatpickr",9),s.Sb(17,"span",10),s.Nb(18,"span",11),s.Rb(),s.Rb(),s.Rb(),s.Sb(19,"div",5),s.Sb(20,"label",12),s.Gc(21,"Otc Amount "),s.Sb(22,"em"),s.Gc(23,"*"),s.Rb(),s.Rb(),s.Nb(24,"input",13),s.Rb(),s.Sb(25,"div",5),s.Sb(26,"label",12),s.Gc(27,"Otc Expiry "),s.Sb(28,"em"),s.Gc(29,"*"),s.Rb(),s.Rb(),s.Nb(30,"input",14),s.Rb(),s.Sb(31,"div",5),s.Sb(32,"label",12),s.Gc(33,"Wager Amount "),s.Sb(34,"em"),s.Gc(35,"*"),s.Rb(),s.Rb(),s.Nb(36,"input",15),s.Rb(),s.Sb(37,"div",16),s.Nb(38,"input",17),s.Sb(39,"label",18),s.Gc(40,"Is Active"),s.Rb(),s.Rb(),s.Sb(41,"div",16),s.Nb(42,"input",17),s.Sb(43,"label",18),s.Gc(44," Used Referral Code"),s.Rb(),s.Rb(),s.Rb(),s.Sb(45,"div",4),s.Sb(46,"div",5),s.Sb(47,"label"),s.Gc(48,"Campaign "),s.Sb(49,"em"),s.Gc(50,"*"),s.Rb(),s.Rb(),s.Nb(51,"ng-select",19),s.Rb(),s.Sb(52,"div",5),s.Sb(53,"label",7),s.Gc(54,"Valid From "),s.Rb(),s.Sb(55,"div",8),s.Nb(56,"ng2-flatpickr",9),s.Sb(57,"span",10),s.Nb(58,"span",11),s.Rb(),s.Rb(),s.Rb(),s.Sb(59,"div",5),s.Sb(60,"label"),s.Gc(61,"Referral Code Type "),s.Sb(62,"em"),s.Gc(63,"*"),s.Rb(),s.Rb(),s.Nb(64,"ng-select",20),s.Rb(),s.Sb(65,"div",5),s.Sb(66,"label",12),s.Gc(67,"Wager Bonus Expiry "),s.Sb(68,"em"),s.Gc(69,"*"),s.Rb(),s.Rb(),s.Nb(70,"input",21),s.Rb(),s.Sb(71,"div",5),s.Sb(72,"label",12),s.Gc(73,"Wager To Release Ratio Numerator "),s.Sb(74,"em"),s.Gc(75,"*"),s.Rb(),s.Rb(),s.Nb(76,"input",22),s.Rb(),s.Sb(77,"div",5),s.Sb(78,"label",12),s.Gc(79,"Wager To Release Ratio Denominator "),s.Sb(80,"em"),s.Gc(81,"*"),s.Rb(),s.Rb(),s.Nb(82,"input",23),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(83,"div",24),s.Sb(84,"button",25),s.Gc(85," Cancel "),s.Rb(),s.Sb(86,"button",26),s.Ec(87,y,1,0,"i",27),s.Gc(88," Submit "),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.yb(2),s.kc("formGroup",o.addForm),s.yb(1),s.kc("cardTitle",o.pageTitle)("options",!1),s.yb(8),s.kc("formControl",o.addForm.controls.code),s.yb(5),s.kc("setDate",o.valid_until)("formControl",o.addForm.controls.valid_until)("config",o.exampleOptions),s.yb(8),s.kc("formControl",o.addForm.controls.otc_amount),s.yb(6),s.kc("formControl",o.addForm.controls.otc_expiry),s.yb(6),s.kc("formControl",o.addForm.controls.wager_amount),s.yb(2),s.kc("formControl",o.addForm.controls.is_active),s.yb(4),s.kc("formControl",o.addForm.controls.used_referral_code),s.yb(9),s.kc("formControl",o.addForm.controls.campaign)("items",o.campingListArray),s.yb(5),s.kc("setDate",o.valid_from)("formControl",o.addForm.controls.valid_from)("config",o.exampleOptions),s.yb(8),s.kc("formControl",o.addForm.controls.referral_code_type)("items",o.referralCodeTypeArray),s.yb(6),s.kc("formControl",o.addForm.controls.wager_bonus_expiry),s.yb(6),s.kc("formControl",o.addForm.controls.wager_to_release_ratio_numerator),s.yb(6),s.kc("formControl",o.addForm.controls.wager_to_release_ratio_denominator),s.yb(4),s.kc("disabled",o.showLoader),s.yb(1),s.kc("ngIf",o.showLoader))},directives:[b.s,b.l,m.a,b.f,_.a,b.c,b.k,b.e,f.a,g.a,v.b,b.a,h.a,n.g,i.m],encapsulation:2}),S),C=a("ebz3"),k=a("jLqM"),x=[{path:"",component:w}],q=((R=function o(){e(this,o)}).\u0275mod=s.Kb({type:R}),R.\u0275inj=s.Jb({factory:function(e){return new(e||R)},providers:[l.a,u.a],imports:[[i.b,b.g,b.p,C.a,h.b,g.b,k.a,n.j.forChild(x)]]}),R)}}])}();