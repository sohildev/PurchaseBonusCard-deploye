(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{dyvc:function(t,e,i){"use strict";i.r(e),i.d(e,"routes",function(){return k}),i.d(e,"BonusBoosterAddModule",function(){return _});var o=i("ofXK"),a=i("tyNb"),r=i("l1aK"),s=i("3Pt+"),n=i("ebz3"),b=i("ZOsW"),c=i("Jvtu"),d=i("Lw2Y"),l=i("zzOR"),p=i("fXoL"),u=i("gW3T"),m=i("jhN1"),h=i("VT7O"),v=i("/n7v"),f=i("GgBf"),g=i("hR8x");function S(t,e){1&t&&p.Nb(0,"i",20)}let R=(()=>{class t{constructor(t,e,i,o,a,r,n){this.router=t,this.fb=e,this.activatedRoute=i,this.bonusBoosterService=o,this.campaignService=a,this.cdr=r,this.titleService=n,this.exampleOptions=l.a,this.campingListArray=[],this.loadingState=!1,this.showLoader=!1,this.valid_from=new Date,this.valid_until=new Date,this.formErrors={code:null,apierror:null},this.isEditing=!1,this.editId=null,this.pageTitle="Create Bonus Booster",this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({code:[null,s.q.compose([s.q.required])],campaign:[null,s.q.compose([s.q.required])],objective:[""],valid_from:[null],valid_until:[null],is_active:[!1]})}ngOnInit(){this.getMasterData(),this.titleService.setTitle(this.pageTitle+" | bonus777 "),this.isEditing&&(this.getEditObject(),this.pageTitle="Update Bonus Booster",this.titleService.setTitle(this.pageTitle+" | bonus777 "))}ngAfterViewChecked(){this.cdr.detectChanges()}getMasterData(){this.campaignService.getCampaignList({}).subscribe(t=>{t&&(this.campingListArray=t)})}getEditObject(){this.bonusBoosterService.getBonusBoosterById(this.editId).subscribe(t=>{t?(this.valid_from=t.valid_from,this.valid_until=t.valid_until,this.addForm.patchValue({code:t.code,campaign:t.campaign,is_active:t.is_active})):this.router.navigateByUrl("/bonus-booster")})}submitForm(t){if(t.valid){this.showLoader=!0;const e=new FormData;e.append("code",t.value.code),e.append("campaign",t.value.campaign),e.append("valid_from",d.a.changedateFormate(t.value.valid_from[0])),e.append("valid_until",d.a.changedateFormate(t.value.valid_until[0])),e.append("is_active",!!t.value.is_active&&t.value.is_active),this.isEditing?this.bonusBoosterService.editBonusBooster(this.editId,e).subscribe(t=>{this.showLoader=!1,t&&this.router.navigateByUrl("/bonus-booster")},t=>{this.showLoader=!1}):this.bonusBoosterService.addBonusBooster(e).subscribe(t=>{this.showLoader=!1,t&&this.router.navigateByUrl("/bonus-booster")},t=>{this.showLoader=!1})}}}return t.\u0275fac=function(e){return new(e||t)(p.Mb(a.f),p.Mb(s.d),p.Mb(a.a),p.Mb(u.a),p.Mb(r.a),p.Mb(p.h),p.Mb(m.e))},t.\u0275cmp=p.Gb({type:t,selectors:[["app-bonus-booster-add"]],decls:43,vars:15,consts:[[1,"row"],[1,"col-sm-12"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[3,"cardTitle","options"],[1,"col-md-6"],[1,"form-group"],["type","text","placeholder","code",1,"form-control",3,"formControl"],[1,"control-label","text-md-right"],[1,"date-picker"],[3,"setDate","formControl","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],[1,"form-group","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input",3,"formControl"],["for","exampleCheck1",1,"form-check-label"],["number","","bindLabel","name","bindValue","id","placeholder","Select campaign",3,"formControl","items"],[1,"text-right","border-top","py-4","mt-2","card-footer"],["type","button","routerLink","/bonus-booster",1,"btn","btn-light"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"]],template:function(t,e){1&t&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.Sb(2,"form",2),p.cc("ngSubmit",function(){return e.submitForm(e.addForm)}),p.Sb(3,"app-card",3),p.Sb(4,"div",0),p.Sb(5,"div",4),p.Sb(6,"div",5),p.Sb(7,"label"),p.Gc(8,"Code "),p.Sb(9,"em"),p.Gc(10,"*"),p.Rb(),p.Rb(),p.Nb(11,"input",6),p.Rb(),p.Sb(12,"div",5),p.Sb(13,"label",7),p.Gc(14,"Valid Until "),p.Rb(),p.Sb(15,"div",8),p.Nb(16,"ng2-flatpickr",9),p.Sb(17,"span",10),p.Nb(18,"span",11),p.Rb(),p.Rb(),p.Rb(),p.Sb(19,"div",12),p.Nb(20,"input",13),p.Sb(21,"label",14),p.Gc(22,"Is Active"),p.Rb(),p.Rb(),p.Rb(),p.Sb(23,"div",4),p.Sb(24,"div",5),p.Sb(25,"label",7),p.Gc(26,"Valid From "),p.Rb(),p.Sb(27,"div",8),p.Nb(28,"ng2-flatpickr",9),p.Sb(29,"span",10),p.Nb(30,"span",11),p.Rb(),p.Rb(),p.Rb(),p.Sb(31,"div",5),p.Sb(32,"label"),p.Gc(33,"Campaign "),p.Sb(34,"em"),p.Gc(35,"*"),p.Rb(),p.Rb(),p.Nb(36,"ng-select",15),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(37,"div",16),p.Sb(38,"button",17),p.Gc(39," Cancel "),p.Rb(),p.Sb(40,"button",18),p.Ec(41,S,1,0,"i",19),p.Gc(42," Submit "),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb()),2&t&&(p.yb(2),p.kc("formGroup",e.addForm),p.yb(1),p.kc("cardTitle",e.pageTitle)("options",!1),p.yb(8),p.kc("formControl",e.addForm.controls.code),p.yb(5),p.kc("setDate",e.valid_until)("formControl",e.addForm.controls.valid_until)("config",e.exampleOptions),p.yb(4),p.kc("formControl",e.addForm.controls.is_active),p.yb(8),p.kc("setDate",e.valid_from)("formControl",e.addForm.controls.valid_from)("config",e.exampleOptions),p.yb(8),p.kc("formControl",e.addForm.controls.campaign)("items",e.campingListArray),p.yb(4),p.kc("disabled",e.showLoader),p.yb(1),p.kc("ngIf",e.showLoader))},directives:[s.s,s.l,h.a,s.f,v.a,s.c,s.k,s.e,f.a,c.a,s.a,b.a,g.b,a.g,o.m],encapsulation:2}),t})();var y=i("jLqM");const k=[{path:"",component:R}];let _=(()=>{class t{}return t.\u0275mod=p.Kb({type:t}),t.\u0275inj=p.Jb({factory:function(e){return new(e||t)},providers:[r.a,u.a],imports:[[o.b,s.g,s.p,n.a,b.b,c.b,y.a,a.j.forChild(k)]]}),t})()}}]);