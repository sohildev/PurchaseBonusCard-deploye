!function(){function i(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function t(i,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"0DkP":function(e,o,a){"use strict";a.r(o),a.d(o,"routes",function(){return C}),a.d(o,"LoginBonusAddModule",function(){return B});var n=a("ofXK"),r=a("tyNb"),s=a("l1aK"),c=a("3Pt+"),l=a("ebz3"),d=a("ZOsW"),b=a("Jvtu"),u=a("Lw2Y"),p=a("zzOR"),m=a("fXoL"),f=a("9Iw4"),h=a("jhN1"),v=a("VT7O"),g=a("/n7v"),S=a("GgBf"),y=a("hR8x");function k(i,t){1&i&&m.Nb(0,"i",20)}var R,w,L=((R=function(){function e(t,o,a,n,r,s,l){i(this,e),this.router=t,this.fb=o,this.activatedRoute=a,this.loginBonusService=n,this.campaignService=r,this.cdr=s,this.titleService=l,this.exampleOptions=p.a,this.campingListArray=[],this.loadingState=!1,this.showLoader=!1,this.valid_from=new Date,this.valid_until=new Date,this.formErrors={code:null,apierror:null},this.isEditing=!1,this.editId=null,this.pageTitle="Create Login Bonus",this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({code:[null,c.q.compose([c.q.required])],campaign:[null,c.q.compose([c.q.required])],objective:[""],valid_from:[null],valid_until:[null],is_active:[!1]})}var o,a,n;return o=e,(a=[{key:"ngOnInit",value:function(){this.getMasterData(),this.titleService.setTitle(this.pageTitle+" | bonus777 "),this.isEditing&&(this.getEditObject(),this.pageTitle="Update Login Bonus",this.titleService.setTitle(this.pageTitle+" | bonus777 "))}},{key:"ngAfterViewChecked",value:function(){this.cdr.detectChanges()}},{key:"getMasterData",value:function(){var i=this;this.campaignService.getCampaignList({}).subscribe(function(t){t&&(i.campingListArray=t)})}},{key:"getEditObject",value:function(){var i=this;this.loginBonusService.getLoginBonusById(this.editId).subscribe(function(t){t?(i.valid_from=t.valid_from,i.valid_until=t.valid_until,i.addForm.patchValue({code:t.code,campaign:t.campaign,is_active:t.is_active})):i.router.navigateByUrl("/login-bonus")})}},{key:"submitForm",value:function(i){var t=this;if(i.valid){this.showLoader=!0;var e=new FormData;e.append("code",i.value.code),e.append("campaign",i.value.campaign),e.append("valid_from",u.a.changedateFormate(i.value.valid_from[0])),e.append("valid_until",u.a.changedateFormate(i.value.valid_until[0])),e.append("is_active",!!i.value.is_active&&i.value.is_active),this.isEditing?this.loginBonusService.editLoginBonus(this.editId,e).subscribe(function(i){t.showLoader=!1,i&&t.router.navigateByUrl("/login-bonus")},function(i){t.showLoader=!1}):this.loginBonusService.addLoginBonus(e).subscribe(function(i){t.showLoader=!1,i&&t.router.navigateByUrl("/login-bonus")},function(i){t.showLoader=!1})}}}])&&t(o.prototype,a),n&&t(o,n),e}()).\u0275fac=function(i){return new(i||R)(m.Mb(r.f),m.Mb(c.d),m.Mb(r.a),m.Mb(f.a),m.Mb(s.a),m.Mb(m.h),m.Mb(h.e))},R.\u0275cmp=m.Gb({type:R,selectors:[["app-login-bonus-add"]],decls:43,vars:15,consts:[[1,"row"],[1,"col-sm-12"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[3,"cardTitle","options"],[1,"col-md-6"],[1,"form-group"],["type","text","placeholder","code",1,"form-control",3,"formControl"],[1,"control-label","text-md-right"],[1,"date-picker"],[3,"setDate","formControl","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],[1,"form-group","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input",3,"formControl"],["for","exampleCheck1",1,"form-check-label"],["number","","bindLabel","name","bindValue","id","placeholder","Select campaign",3,"formControl","items"],[1,"text-right","border-top","py-4","mt-2","card-footer"],["type","button","routerLink","/login-bonus",1,"btn","btn-light"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"]],template:function(i,t){1&i&&(m.Sb(0,"div",0),m.Sb(1,"div",1),m.Sb(2,"form",2),m.cc("ngSubmit",function(){return t.submitForm(t.addForm)}),m.Sb(3,"app-card",3),m.Sb(4,"div",0),m.Sb(5,"div",4),m.Sb(6,"div",5),m.Sb(7,"label"),m.Gc(8,"Code "),m.Sb(9,"em"),m.Gc(10,"*"),m.Rb(),m.Rb(),m.Nb(11,"input",6),m.Rb(),m.Sb(12,"div",5),m.Sb(13,"label",7),m.Gc(14,"Valid Until "),m.Rb(),m.Sb(15,"div",8),m.Nb(16,"ng2-flatpickr",9),m.Sb(17,"span",10),m.Nb(18,"span",11),m.Rb(),m.Rb(),m.Rb(),m.Sb(19,"div",12),m.Nb(20,"input",13),m.Sb(21,"label",14),m.Gc(22,"Is Active"),m.Rb(),m.Rb(),m.Rb(),m.Sb(23,"div",4),m.Sb(24,"div",5),m.Sb(25,"label",7),m.Gc(26,"Valid From "),m.Rb(),m.Sb(27,"div",8),m.Nb(28,"ng2-flatpickr",9),m.Sb(29,"span",10),m.Nb(30,"span",11),m.Rb(),m.Rb(),m.Rb(),m.Sb(31,"div",5),m.Sb(32,"label"),m.Gc(33,"Campaign "),m.Sb(34,"em"),m.Gc(35,"*"),m.Rb(),m.Rb(),m.Nb(36,"ng-select",15),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(37,"div",16),m.Sb(38,"button",17),m.Gc(39," Cancel "),m.Rb(),m.Sb(40,"button",18),m.Ec(41,k,1,0,"i",19),m.Gc(42," Submit "),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb()),2&i&&(m.yb(2),m.kc("formGroup",t.addForm),m.yb(1),m.kc("cardTitle",t.pageTitle)("options",!1),m.yb(8),m.kc("formControl",t.addForm.controls.code),m.yb(5),m.kc("setDate",t.valid_until)("formControl",t.addForm.controls.valid_until)("config",t.exampleOptions),m.yb(4),m.kc("formControl",t.addForm.controls.is_active),m.yb(8),m.kc("setDate",t.valid_from)("formControl",t.addForm.controls.valid_from)("config",t.exampleOptions),m.yb(8),m.kc("formControl",t.addForm.controls.campaign)("items",t.campingListArray),m.yb(4),m.kc("disabled",t.showLoader),m.yb(1),m.kc("ngIf",t.showLoader))},directives:[c.s,c.l,v.a,c.f,g.a,c.c,c.k,c.e,S.a,b.a,c.a,d.a,y.b,r.g,n.m],encapsulation:2}),R),_=a("jLqM"),C=[{path:"",component:L}],B=((w=function t(){i(this,t)}).\u0275mod=m.Kb({type:w}),w.\u0275inj=m.Jb({factory:function(i){return new(i||w)},providers:[s.a,f.a],imports:[[n.b,c.g,c.p,l.a,d.b,b.b,_.a,r.j.forChild(C)]]}),w)}}])}();