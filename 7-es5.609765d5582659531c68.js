!function(){function e(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function o(e,o){for(var r=0;r<o.length;r++){var t=o[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"0aJ0":function(r,t,a){"use strict";a.r(t),a.d(t,"routes",function(){return G}),a.d(t,"PurchaseBonusAddModule",function(){return B});var n=a("ofXK"),i=a("Jvtu"),b=a("ZOsW"),s=a("tyNb"),l=a("3Pt+"),u=a("ebz3"),c=a("l1aK"),m=a("Lw2Y"),d=a("zzOR"),p=a("fXoL"),_=a("Qtta"),f=a("gW3T"),g=a("jhN1"),h=a("VT7O"),v=a("/n7v"),S=a("GgBf"),y=a("hR8x");function R(e,o){1&e&&p.Nb(0,"i",33)}var k,w,C=((k=function(){function r(o,t,a,n,i,b,s,u){e(this,r),this.router=o,this.fb=t,this.activatedRoute=a,this.purchaseBonusService=n,this.campaignService=i,this.bonusBoosterService=b,this.cdr=s,this.titleService=u,this.exampleOptions=d.a,this.campingListArray=[],this.bonusBoosterListArray=[],this.userSegmentationType=[],this.purchaseBonusTabType=[],this.loadingState=!1,this.showLoader=!1,this.valid_from=new Date,this.valid_until=new Date,this.formErrors={code:null,apierror:null},this.isEditing=!1,this.editId=null,this.pageTitle="Create Purchase Bonus",this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({code:[null,l.q.compose([l.q.required])],bonus_booster:[null,l.q.compose([l.q.required])],campaign:[null,l.q.compose([l.q.required])],bonus_image_front:[null,l.q.compose([l.q.required,l.q.pattern(m.c)])],bonus_image_back:[null,l.q.compose([l.q.required,l.q.pattern(m.c)])],user_redeem_limit:[null,l.q.compose([l.q.required])],user_limit:[null,l.q.compose([l.q.required])],tab_type:[null,l.q.compose([l.q.required])],ribbon_msg:[null],user_segmentation_type:[null,l.q.compose([l.q.required])],wager_bonus_expiry:[null,l.q.compose([l.q.required])],wager_to_release_ratio_numerator:[null,l.q.compose([l.q.required])],wager_to_release_ratio_denominator:[null,l.q.compose([l.q.required])],valid_from:[null],valid_until:[null],is_active:[!1],is_bonus_booster_enabled:[!1]})}var t,a,n;return t=r,(a=[{key:"ngOnInit",value:function(){this.getMasterData(),this.titleService.setTitle(this.pageTitle+" | bonus777 "),this.isEditing&&(this.getEditObject(),this.pageTitle="Update Purchase Bonus",this.titleService.setTitle(this.pageTitle+" | bonus777 "))}},{key:"ngAfterViewChecked",value:function(){this.cdr.detectChanges()}},{key:"getMasterData",value:function(){var e=this;this.userSegmentationType=m.b.USER_SEGMENTATION_TYPE,this.purchaseBonusTabType=m.b.PURCHASE_BONUS_TAB_TYPES,this.campaignService.getCampaignList({}).subscribe(function(o){o&&(e.campingListArray=o)}),this.bonusBoosterService.getBonusBoosterList({}).subscribe(function(o){o&&(e.bonusBoosterListArray=o)})}},{key:"getEditObject",value:function(){var e=this;this.purchaseBonusService.getPurchaseBonusById(this.editId).subscribe(function(o){o?(e.valid_from=o.valid_from,e.valid_until=o.valid_until,e.addForm.patchValue({code:o.code,bonus_image_front:o.bonus_image_front,bonus_image_back:o.bonus_image_back,user_redeem_limit:o.user_redeem_limit,user_limit:o.user_limit,tab_type:o.tab_type,ribbon_msg:o.ribbon_msg,wager_bonus_expiry:o.wager_bonus_expiry,wager_to_release_ratio_numerator:o.wager_to_release_ratio_numerator,wager_to_release_ratio_denominator:o.wager_to_release_ratio_denominator,user_segmentation_type:o.user_segmentation_type,is_bonus_booster_enabled:o.is_bonus_booster_enabled,bonus_booster:o.bonus_booster,campaign:o.campaign,is_active:o.is_active})):e.router.navigateByUrl("/purchase-bonus")})}},{key:"submitForm",value:function(e){var o=this;if(e.valid){this.showLoader=!0;var r=new FormData;r.append("code",e.value.code),r.append("campaign",e.value.campaign),r.append("bonus_booster",e.value.bonus_booster),r.append("user_segmentation_type",e.value.user_segmentation_type),r.append("valid_from",m.a.changedateFormate(e.value.valid_from[0])),r.append("valid_until",m.a.changedateFormate(e.value.valid_until[0])),r.append("is_active",!!e.value.is_active&&e.value.is_active),r.append("is_bonus_booster_enabled",!!e.value.is_bonus_booster_enabled&&e.value.is_bonus_booster_enabled),r.append("bonus_image_front",e.value.bonus_image_front),r.append("bonus_image_back",e.value.bonus_image_back),r.append("user_redeem_limit",e.value.user_redeem_limit),r.append("user_limit",e.value.user_limit),r.append("tab_type",e.value.tab_type),r.append("ribbon_msg",e.value.ribbon_msg),r.append("wager_bonus_expiry",e.value.wager_bonus_expiry),r.append("wager_to_release_ratio_numerator",e.value.wager_to_release_ratio_numerator),r.append("wager_to_release_ratio_denominator",e.value.wager_to_release_ratio_denominator),this.isEditing?this.purchaseBonusService.editPurchaseBonus(this.editId,r).subscribe(function(e){o.showLoader=!1,e&&o.router.navigateByUrl("/purchase-bonus")},function(e){o.showLoader=!1}):this.purchaseBonusService.addPurchaseBonus(r).subscribe(function(e){o.showLoader=!1,e&&o.router.navigateByUrl("/purchase-bonus")},function(e){o.showLoader=!1})}}}])&&o(t.prototype,a),n&&o(t,n),r}()).\u0275fac=function(e){return new(e||k)(p.Mb(s.f),p.Mb(l.d),p.Mb(s.a),p.Mb(_.a),p.Mb(c.a),p.Mb(f.a),p.Mb(p.h),p.Mb(g.e))},k.\u0275cmp=p.Gb({type:k,selectors:[["app-purchase-bonus-add"]],decls:111,vars:30,consts:[[1,"row"],[1,"col-sm-12"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[3,"cardTitle","options"],[1,"col-md-6"],[1,"form-group"],["type","text","placeholder","code",1,"form-control",3,"formControl"],["number","","bindLabel","label","bindValue","value","placeholder","Select tab type",3,"formControl","items"],[1,"control-label","text-md-right"],[1,"date-picker"],[3,"setDate","formControl","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],["number","","bindLabel","label","bindValue","value","placeholder","Select user segmentation type",3,"formControl","items"],["for","exampleFormControlTextarea1"],["type","text","placeholder","bonus_image_front",1,"form-control",3,"formControl"],["type","url","placeholder","bonus image back",1,"form-control",3,"formControl"],["number","","type","url","placeholder","user redeem limit",1,"form-control",3,"formControl"],[1,"form-group","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input",3,"formControl"],["for","exampleCheck1",1,"form-check-label"],["number","","bindLabel","name","bindValue","id","placeholder","Select campaign",3,"formControl","items"],["number","","bindLabel","code","bindValue","id","placeholder","Select bonus booster",3,"formControl","items"],["number","","type","text","placeholder","user limit",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager bonus expiry",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio numerator",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio denominator",1,"form-control",3,"formControl"],["for","exampleFormControlRibbonmsg1"],["placeholder","ribbon massage...","id","exampleFormControlRibbonmsg1","rows","3",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-2","card-footer"],["type","button","routerLink","/purchase-bonus",1,"btn","btn-light"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,o){1&e&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.Sb(2,"form",2),p.cc("ngSubmit",function(){return o.submitForm(o.addForm)}),p.Sb(3,"app-card",3),p.Sb(4,"div",0),p.Sb(5,"div",4),p.Sb(6,"div",5),p.Sb(7,"label"),p.Gc(8,"Code "),p.Sb(9,"em"),p.Gc(10,"*"),p.Rb(),p.Rb(),p.Nb(11,"input",6),p.Rb(),p.Sb(12,"div",5),p.Sb(13,"label"),p.Gc(14,"Tab Type "),p.Sb(15,"em"),p.Gc(16,"*"),p.Rb(),p.Rb(),p.Nb(17,"ng-select",7),p.Rb(),p.Sb(18,"div",5),p.Sb(19,"label",8),p.Gc(20,"Valid Until "),p.Rb(),p.Sb(21,"div",9),p.Nb(22,"ng2-flatpickr",10),p.Sb(23,"span",11),p.Nb(24,"span",12),p.Rb(),p.Rb(),p.Rb(),p.Sb(25,"div",5),p.Sb(26,"label"),p.Gc(27,"User Segmentation Type "),p.Sb(28,"em"),p.Gc(29,"*"),p.Rb(),p.Rb(),p.Nb(30,"ng-select",13),p.Rb(),p.Sb(31,"div",5),p.Sb(32,"label",14),p.Gc(33,"Bonus image front "),p.Sb(34,"em"),p.Gc(35,"*"),p.Rb(),p.Rb(),p.Nb(36,"input",15),p.Rb(),p.Sb(37,"div",5),p.Sb(38,"label",14),p.Gc(39,"Bonus image back "),p.Sb(40,"em"),p.Gc(41,"*"),p.Rb(),p.Rb(),p.Nb(42,"input",16),p.Rb(),p.Sb(43,"div",5),p.Sb(44,"label",14),p.Gc(45,"User redeem limit "),p.Sb(46,"em"),p.Gc(47,"*"),p.Rb(),p.Rb(),p.Nb(48,"input",17),p.Rb(),p.Sb(49,"div",18),p.Nb(50,"input",19),p.Sb(51,"label",20),p.Gc(52,"Is Active"),p.Rb(),p.Rb(),p.Sb(53,"div",18),p.Nb(54,"input",19),p.Sb(55,"label",20),p.Gc(56,"Is bonus booster enabled"),p.Rb(),p.Rb(),p.Rb(),p.Sb(57,"div",4),p.Sb(58,"div",5),p.Sb(59,"label"),p.Gc(60,"Campaign "),p.Sb(61,"em"),p.Gc(62,"*"),p.Rb(),p.Rb(),p.Nb(63,"ng-select",21),p.Rb(),p.Sb(64,"div",5),p.Sb(65,"label"),p.Gc(66,"Bonus Booster "),p.Sb(67,"em"),p.Gc(68,"*"),p.Rb(),p.Rb(),p.Nb(69,"ng-select",22),p.Rb(),p.Sb(70,"div",5),p.Sb(71,"label",8),p.Gc(72,"Valid From "),p.Rb(),p.Sb(73,"div",9),p.Nb(74,"ng2-flatpickr",10),p.Sb(75,"span",11),p.Nb(76,"span",12),p.Rb(),p.Rb(),p.Rb(),p.Sb(77,"div",5),p.Sb(78,"label",14),p.Gc(79,"User limit "),p.Sb(80,"em"),p.Gc(81,"*"),p.Rb(),p.Rb(),p.Nb(82,"input",23),p.Rb(),p.Sb(83,"div",5),p.Sb(84,"label",14),p.Gc(85,"Wager Bonus Expiry "),p.Sb(86,"em"),p.Gc(87,"*"),p.Rb(),p.Rb(),p.Nb(88,"input",24),p.Rb(),p.Sb(89,"div",5),p.Sb(90,"label",14),p.Gc(91,"Wager To Release Ratio Numerator "),p.Sb(92,"em"),p.Gc(93,"*"),p.Rb(),p.Rb(),p.Nb(94,"input",25),p.Rb(),p.Sb(95,"div",5),p.Sb(96,"label",14),p.Gc(97,"Wager To Release Ratio Denominator "),p.Sb(98,"em"),p.Gc(99,"*"),p.Rb(),p.Rb(),p.Nb(100,"input",26),p.Rb(),p.Sb(101,"div",5),p.Sb(102,"label",27),p.Gc(103,"Ribbon massage "),p.Rb(),p.Nb(104,"textarea",28),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(105,"div",29),p.Sb(106,"button",30),p.Gc(107," Cancel "),p.Rb(),p.Sb(108,"button",31),p.Ec(109,R,1,0,"i",32),p.Gc(110," Submit "),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb()),2&e&&(p.yb(2),p.kc("formGroup",o.addForm),p.yb(1),p.kc("cardTitle",o.pageTitle)("options",!1),p.yb(8),p.kc("formControl",o.addForm.controls.code),p.yb(6),p.kc("formControl",o.addForm.controls.tab_type)("items",o.purchaseBonusTabType),p.yb(5),p.kc("setDate",o.valid_until)("formControl",o.addForm.controls.valid_until)("config",o.exampleOptions),p.yb(8),p.kc("formControl",o.addForm.controls.user_segmentation_type)("items",o.userSegmentationType),p.yb(6),p.kc("formControl",o.addForm.controls.bonus_image_front),p.yb(6),p.kc("formControl",o.addForm.controls.bonus_image_back),p.yb(6),p.kc("formControl",o.addForm.controls.user_redeem_limit),p.yb(2),p.kc("formControl",o.addForm.controls.is_active),p.yb(4),p.kc("formControl",o.addForm.controls.is_bonus_booster_enabled),p.yb(9),p.kc("formControl",o.addForm.controls.campaign)("items",o.campingListArray),p.yb(6),p.kc("formControl",o.addForm.controls.bonus_booster)("items",o.bonusBoosterListArray),p.yb(5),p.kc("setDate",o.valid_from)("formControl",o.addForm.controls.valid_from)("config",o.exampleOptions),p.yb(8),p.kc("formControl",o.addForm.controls.user_limit),p.yb(6),p.kc("formControl",o.addForm.controls.wager_bonus_expiry),p.yb(6),p.kc("formControl",o.addForm.controls.wager_to_release_ratio_numerator),p.yb(6),p.kc("formControl",o.addForm.controls.wager_to_release_ratio_denominator),p.yb(4),p.kc("formControl",o.addForm.controls.ribbon_msg),p.yb(4),p.kc("disabled",o.showLoader),p.yb(1),p.kc("ngIf",o.showLoader))},directives:[l.s,l.l,h.a,l.f,v.a,l.c,l.k,l.e,S.a,b.a,y.b,i.a,l.a,s.g,n.m],encapsulation:2}),k),q=a("jLqM"),G=[{path:"",component:C}],B=((w=function o(){e(this,o)}).\u0275mod=p.Kb({type:w}),w.\u0275inj=p.Jb({factory:function(e){return new(e||w)},providers:[c.a,f.a,_.a],imports:[[n.b,l.g,l.p,u.a,b.b,i.b,q.a,s.j.forChild(G)]]}),w)}}])}();