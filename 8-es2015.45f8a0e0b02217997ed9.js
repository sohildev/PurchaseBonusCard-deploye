(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{ggRZ:function(e,r,o){"use strict";o.r(r),o.d(r,"routes",function(){return y}),o.d(r,"ReferrerPurchaseBonusAddModule",function(){return x});var t=o("ofXK"),a=o("Jvtu"),i=o("ZOsW"),n=o("tyNb"),s=o("3Pt+"),b=o("ebz3"),l=o("l1aK"),c=o("Lw2Y"),d=o("zzOR"),u=o("fXoL"),m=o("VOOn"),p=o("gW3T"),_=o("jhN1"),f=o("VT7O"),h=o("/n7v"),g=o("GgBf"),v=o("hR8x");function S(e,r){1&e&&u.Nb(0,"i",34)}let R=(()=>{class e{constructor(e,r,o,t,a,i,n,b){this.router=e,this.fb=r,this.activatedRoute=o,this.referrerPurchaseBonusService=t,this.campaignService=a,this.bonusBoosterService=i,this.cdr=n,this.titleService=b,this.exampleOptions=d.a,this.campingListArray=[],this.bonusBoosterListArray=[],this.userSegmentationType=[],this.purchaseBonusTabType=[],this.loadingState=!1,this.showLoader=!1,this.valid_from=new Date,this.valid_until=new Date,this.formErrors={code:null,apierror:null},this.isEditing=!1,this.editId=null,this.pageTitle="Create Referrer Purchase Bonus",this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({code:[null,s.q.compose([s.q.required])],bonus_booster:[null,s.q.compose([s.q.required])],campaign:[null,s.q.compose([s.q.required])],valid_from:[null],valid_until:[null],is_active:[!1],reward_points:[null,s.q.compose([s.q.required])],otc_max:[null,s.q.compose([s.q.required])],wager_amount:[null,s.q.compose([s.q.required])],otc_percent:[null,s.q.compose([s.q.required,s.q.max(101),s.q.min(.1)])],wager_bonus_expiry:[null,s.q.compose([s.q.required])],wager_to_release_ratio_numerator:[null,s.q.compose([s.q.required])],wager_to_release_ratio_denominator:[null,s.q.compose([s.q.required])],referrer_bonus_lifetime_max:[null,s.q.compose([s.q.required])],referee_lt_deposit_count:[null,s.q.compose([s.q.required])]})}ngOnInit(){this.getMasterData(),this.titleService.setTitle(this.pageTitle+" | bonus777 "),this.isEditing&&(this.getEditObject(),this.pageTitle="Update Referrer Purchase Bonus",this.titleService.setTitle(this.pageTitle+" | bonus777 "))}ngAfterViewChecked(){this.cdr.detectChanges()}getMasterData(){this.userSegmentationType=c.b.USER_SEGMENTATION_TYPE,this.purchaseBonusTabType=c.b.PURCHASE_BONUS_TAB_TYPES,this.campaignService.getCampaignList({}).subscribe(e=>{e&&(this.campingListArray=e)}),this.bonusBoosterService.getBonusBoosterList({}).subscribe(e=>{e&&(this.bonusBoosterListArray=e)})}getEditObject(){this.referrerPurchaseBonusService.getReferrerPurchaseBonusById(this.editId).subscribe(e=>{e?(this.valid_from=e.valid_from,this.valid_until=e.valid_until,this.addForm.patchValue({code:e.code,otc_max:e.otc_max,campaign:e.campaign,is_active:e.is_active,otc_percent:e.otc_percent,wager_amount:e.wager_amount,bonus_booster:e.bonus_booster,reward_points:e.reward_points,wager_bonus_expiry:e.wager_bonus_expiry,wager_to_release_ratio_numerator:e.wager_to_release_ratio_numerator,wager_to_release_ratio_denominator:e.wager_to_release_ratio_denominator,referrer_bonus_lifetime_max:e.referrer_bonus_lifetime_max,referee_lt_deposit_count:e.referee_lt_deposit_count})):this.router.navigateByUrl("/referrer-purchase-bonus")})}submitForm(e){if(e.valid){this.showLoader=!0;const r=new FormData;r.append("code",e.value.code),r.append("campaign",e.value.campaign),r.append("bonus_booster",e.value.bonus_booster),r.append("valid_from",c.a.changedateFormate(e.value.valid_from[0])),r.append("valid_until",c.a.changedateFormate(e.value.valid_until[0])),r.append("is_active",!!e.value.is_active&&e.value.is_active),r.append("otc_max",e.value.otc_max),r.append("otc_percent",e.value.otc_percent),r.append("wager_amount",e.value.wager_amount),r.append("referee_lt_deposit_count",e.value.referee_lt_deposit_count),r.append("wager_bonus_expiry",e.value.wager_bonus_expiry),r.append("wager_to_release_ratio_numerator",e.value.wager_to_release_ratio_numerator),r.append("wager_to_release_ratio_denominator",e.value.wager_to_release_ratio_denominator),r.append("referrer_bonus_lifetime_max",e.value.referrer_bonus_lifetime_max),r.append("reward_points",e.value.reward_points),this.isEditing?this.referrerPurchaseBonusService.editReferrerPurchaseBonus(this.editId,r).subscribe(e=>{this.showLoader=!1,e&&this.router.navigateByUrl("/referrer-purchase-bonus")},e=>{this.showLoader=!1}):this.referrerPurchaseBonusService.addReferrerPurchaseBonus(r).subscribe(e=>{this.showLoader=!1,e&&this.router.navigateByUrl("/referrer-purchase-bonus")},e=>{this.showLoader=!1})}}}return e.\u0275fac=function(r){return new(r||e)(u.Mb(n.f),u.Mb(s.d),u.Mb(n.a),u.Mb(m.a),u.Mb(l.a),u.Mb(p.a),u.Mb(u.h),u.Mb(_.e))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-referrer-purchase-bonus-add"]],decls:113,vars:27,consts:[[1,"row"],[1,"col-sm-12"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[3,"cardTitle","options"],[1,"col-md-6"],[1,"form-group"],["type","text","placeholder","code",1,"form-control",3,"formControl"],[1,"control-label","text-md-right"],[1,"date-picker"],[3,"setDate","formControl","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],["for","exampleFormControlTextarea1"],["number","","type","text","placeholder","reward_points",1,"form-control",3,"formControl"],["number","","type","url","placeholder"," otc_max",1,"form-control",3,"formControl"],[1,"input-group","mb-3"],["floatNumber","","type","text","placeholder","reward burn rate percent",1,"form-control",3,"formControl"],[1,"input-group-append"],[1,"input-group-text"],["number","","type","url","placeholder","user redeem limit",1,"form-control",3,"formControl"],["number","","type","url","placeholder","referee lt deposit count",1,"form-control",3,"formControl"],[1,"form-group","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input",3,"formControl"],["for","exampleCheck1",1,"form-check-label"],["number","","bindLabel","name","bindValue","id","placeholder","Select campaign",3,"formControl","items"],["number","","bindLabel","code","bindValue","id","placeholder","Select bonus booster",3,"formControl","items"],["number","","type","text","placeholder","wager_amount",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager bonus expiry",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio numerator",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio denominator",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-2","card-footer"],["type","button","routerLink","/referrer-purchase-bonus",1,"btn","btn-light"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,r){1&e&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"form",2),u.cc("ngSubmit",function(){return r.submitForm(r.addForm)}),u.Sb(3,"app-card",3),u.Sb(4,"div",0),u.Sb(5,"div",4),u.Sb(6,"div",5),u.Sb(7,"label"),u.Gc(8,"Code "),u.Sb(9,"em"),u.Gc(10,"*"),u.Rb(),u.Rb(),u.Nb(11,"input",6),u.Rb(),u.Sb(12,"div",5),u.Sb(13,"label",7),u.Gc(14,"Valid Until "),u.Rb(),u.Sb(15,"div",8),u.Nb(16,"ng2-flatpickr",9),u.Sb(17,"span",10),u.Nb(18,"span",11),u.Rb(),u.Rb(),u.Rb(),u.Sb(19,"div",5),u.Sb(20,"label",12),u.Gc(21,"reward_points "),u.Sb(22,"em"),u.Gc(23,"*"),u.Rb(),u.Rb(),u.Nb(24,"input",13),u.Rb(),u.Sb(25,"div",5),u.Sb(26,"label",12),u.Gc(27,"otc_max "),u.Sb(28,"em"),u.Gc(29,"*"),u.Rb(),u.Rb(),u.Nb(30,"input",14),u.Rb(),u.Sb(31,"div",5),u.Sb(32,"label",12),u.Gc(33,"otc_percent "),u.Sb(34,"em"),u.Gc(35,"*"),u.Rb(),u.Rb(),u.Sb(36,"div",15),u.Nb(37,"input",16),u.Sb(38,"div",17),u.Sb(39,"span",18),u.Gc(40," % "),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(41,"div",5),u.Sb(42,"label",12),u.Gc(43,"wager_amount "),u.Sb(44,"em"),u.Gc(45,"*"),u.Rb(),u.Rb(),u.Nb(46,"input",19),u.Rb(),u.Sb(47,"div",5),u.Sb(48,"label",12),u.Gc(49,"referrer_bonus_lifetime_max "),u.Sb(50,"em"),u.Gc(51,"*"),u.Rb(),u.Rb(),u.Nb(52,"input",19),u.Rb(),u.Sb(53,"div",5),u.Sb(54,"label",12),u.Gc(55,"Referee lt deposit count "),u.Sb(56,"em"),u.Gc(57,"*"),u.Rb(),u.Rb(),u.Nb(58,"input",20),u.Rb(),u.Sb(59,"div",21),u.Nb(60,"input",22),u.Sb(61,"label",23),u.Gc(62,"Is Active"),u.Rb(),u.Rb(),u.Rb(),u.Sb(63,"div",4),u.Sb(64,"div",5),u.Sb(65,"label"),u.Gc(66,"Campaign "),u.Sb(67,"em"),u.Gc(68,"*"),u.Rb(),u.Rb(),u.Nb(69,"ng-select",24),u.Rb(),u.Sb(70,"div",5),u.Sb(71,"label"),u.Gc(72,"Bonus Booster "),u.Sb(73,"em"),u.Gc(74,"*"),u.Rb(),u.Rb(),u.Nb(75,"ng-select",25),u.Rb(),u.Sb(76,"div",5),u.Sb(77,"label",7),u.Gc(78,"Valid From "),u.Rb(),u.Sb(79,"div",8),u.Nb(80,"ng2-flatpickr",9),u.Sb(81,"span",10),u.Nb(82,"span",11),u.Rb(),u.Rb(),u.Rb(),u.Sb(83,"div",5),u.Sb(84,"label",12),u.Gc(85,"wager_amount "),u.Sb(86,"em"),u.Gc(87,"*"),u.Rb(),u.Rb(),u.Nb(88,"input",26),u.Rb(),u.Sb(89,"div",5),u.Sb(90,"label",12),u.Gc(91,"Wager Bonus Expiry "),u.Sb(92,"em"),u.Gc(93,"*"),u.Rb(),u.Rb(),u.Nb(94,"input",27),u.Rb(),u.Sb(95,"div",5),u.Sb(96,"label",12),u.Gc(97,"Wager To Release Ratio Numerator "),u.Sb(98,"em"),u.Gc(99,"*"),u.Rb(),u.Rb(),u.Nb(100,"input",28),u.Rb(),u.Sb(101,"div",5),u.Sb(102,"label",12),u.Gc(103,"Wager To Release Ratio Denominator "),u.Sb(104,"em"),u.Gc(105,"*"),u.Rb(),u.Rb(),u.Nb(106,"input",29),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(107,"div",30),u.Sb(108,"button",31),u.Gc(109," Cancel "),u.Rb(),u.Sb(110,"button",32),u.Ec(111,S,1,0,"i",33),u.Gc(112," Submit "),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e&&(u.yb(2),u.kc("formGroup",r.addForm),u.yb(1),u.kc("cardTitle",r.pageTitle)("options",!1),u.yb(8),u.kc("formControl",r.addForm.controls.code),u.yb(5),u.kc("setDate",r.valid_until)("formControl",r.addForm.controls.valid_until)("config",r.exampleOptions),u.yb(8),u.kc("formControl",r.addForm.controls.reward_points),u.yb(6),u.kc("formControl",r.addForm.controls.otc_max),u.yb(7),u.kc("formControl",r.addForm.controls.otc_percent),u.yb(9),u.kc("formControl",r.addForm.controls.wager_amount),u.yb(6),u.kc("formControl",r.addForm.controls.referrer_bonus_lifetime_max),u.yb(6),u.kc("formControl",r.addForm.controls.referee_lt_deposit_count),u.yb(2),u.kc("formControl",r.addForm.controls.is_active),u.yb(9),u.kc("formControl",r.addForm.controls.campaign)("items",r.campingListArray),u.yb(6),u.kc("formControl",r.addForm.controls.bonus_booster)("items",r.bonusBoosterListArray),u.yb(5),u.kc("setDate",r.valid_from)("formControl",r.addForm.controls.valid_from)("config",r.exampleOptions),u.yb(8),u.kc("formControl",r.addForm.controls.wager_amount),u.yb(6),u.kc("formControl",r.addForm.controls.wager_bonus_expiry),u.yb(6),u.kc("formControl",r.addForm.controls.wager_to_release_ratio_numerator),u.yb(6),u.kc("formControl",r.addForm.controls.wager_to_release_ratio_denominator),u.yb(4),u.kc("disabled",r.showLoader),u.yb(1),u.kc("ngIf",r.showLoader))},directives:[s.s,s.l,f.a,s.f,h.a,s.c,s.k,s.e,g.a,a.a,v.b,v.a,s.a,i.a,n.g,t.m],encapsulation:2}),e})();var w=o("jLqM");const y=[{path:"",component:R}];let x=(()=>{class e{}return e.\u0275mod=u.Kb({type:e}),e.\u0275inj=u.Jb({factory:function(r){return new(r||e)},providers:[l.a,p.a,m.a],imports:[[t.b,s.g,s.p,b.a,i.b,a.b,w.a,n.j.forChild(y)]]}),e})()}}]);