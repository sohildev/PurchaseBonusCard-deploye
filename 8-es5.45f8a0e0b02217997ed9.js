!function(){function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var o=0;o<r.length;o++){var t=r[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{ggRZ:function(o,t,a){"use strict";a.r(t),a.d(t,"routes",function(){return q}),a.d(t,"ReferrerPurchaseBonusAddModule",function(){return G});var n=a("ofXK"),i=a("Jvtu"),b=a("ZOsW"),l=a("tyNb"),s=a("3Pt+"),c=a("ebz3"),u=a("l1aK"),d=a("Lw2Y"),m=a("zzOR"),p=a("fXoL"),_=a("VOOn"),f=a("gW3T"),h=a("jhN1"),g=a("VT7O"),v=a("/n7v"),S=a("GgBf"),R=a("hR8x");function y(e,r){1&e&&p.Nb(0,"i",34)}var w,x,C=((w=function(){function o(r,t,a,n,i,b,l,c){e(this,o),this.router=r,this.fb=t,this.activatedRoute=a,this.referrerPurchaseBonusService=n,this.campaignService=i,this.bonusBoosterService=b,this.cdr=l,this.titleService=c,this.exampleOptions=m.a,this.campingListArray=[],this.bonusBoosterListArray=[],this.userSegmentationType=[],this.purchaseBonusTabType=[],this.loadingState=!1,this.showLoader=!1,this.valid_from=new Date,this.valid_until=new Date,this.formErrors={code:null,apierror:null},this.isEditing=!1,this.editId=null,this.pageTitle="Create Referrer Purchase Bonus",this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({code:[null,s.q.compose([s.q.required])],bonus_booster:[null,s.q.compose([s.q.required])],campaign:[null,s.q.compose([s.q.required])],valid_from:[null],valid_until:[null],is_active:[!1],reward_points:[null,s.q.compose([s.q.required])],otc_max:[null,s.q.compose([s.q.required])],wager_amount:[null,s.q.compose([s.q.required])],otc_percent:[null,s.q.compose([s.q.required,s.q.max(101),s.q.min(.1)])],wager_bonus_expiry:[null,s.q.compose([s.q.required])],wager_to_release_ratio_numerator:[null,s.q.compose([s.q.required])],wager_to_release_ratio_denominator:[null,s.q.compose([s.q.required])],referrer_bonus_lifetime_max:[null,s.q.compose([s.q.required])],referee_lt_deposit_count:[null,s.q.compose([s.q.required])]})}var t,a,n;return t=o,(a=[{key:"ngOnInit",value:function(){this.getMasterData(),this.titleService.setTitle(this.pageTitle+" | bonus777 "),this.isEditing&&(this.getEditObject(),this.pageTitle="Update Referrer Purchase Bonus",this.titleService.setTitle(this.pageTitle+" | bonus777 "))}},{key:"ngAfterViewChecked",value:function(){this.cdr.detectChanges()}},{key:"getMasterData",value:function(){var e=this;this.userSegmentationType=d.b.USER_SEGMENTATION_TYPE,this.purchaseBonusTabType=d.b.PURCHASE_BONUS_TAB_TYPES,this.campaignService.getCampaignList({}).subscribe(function(r){r&&(e.campingListArray=r)}),this.bonusBoosterService.getBonusBoosterList({}).subscribe(function(r){r&&(e.bonusBoosterListArray=r)})}},{key:"getEditObject",value:function(){var e=this;this.referrerPurchaseBonusService.getReferrerPurchaseBonusById(this.editId).subscribe(function(r){r?(e.valid_from=r.valid_from,e.valid_until=r.valid_until,e.addForm.patchValue({code:r.code,otc_max:r.otc_max,campaign:r.campaign,is_active:r.is_active,otc_percent:r.otc_percent,wager_amount:r.wager_amount,bonus_booster:r.bonus_booster,reward_points:r.reward_points,wager_bonus_expiry:r.wager_bonus_expiry,wager_to_release_ratio_numerator:r.wager_to_release_ratio_numerator,wager_to_release_ratio_denominator:r.wager_to_release_ratio_denominator,referrer_bonus_lifetime_max:r.referrer_bonus_lifetime_max,referee_lt_deposit_count:r.referee_lt_deposit_count})):e.router.navigateByUrl("/referrer-purchase-bonus")})}},{key:"submitForm",value:function(e){var r=this;if(e.valid){this.showLoader=!0;var o=new FormData;o.append("code",e.value.code),o.append("campaign",e.value.campaign),o.append("bonus_booster",e.value.bonus_booster),o.append("valid_from",d.a.changedateFormate(e.value.valid_from[0])),o.append("valid_until",d.a.changedateFormate(e.value.valid_until[0])),o.append("is_active",!!e.value.is_active&&e.value.is_active),o.append("otc_max",e.value.otc_max),o.append("otc_percent",e.value.otc_percent),o.append("wager_amount",e.value.wager_amount),o.append("referee_lt_deposit_count",e.value.referee_lt_deposit_count),o.append("wager_bonus_expiry",e.value.wager_bonus_expiry),o.append("wager_to_release_ratio_numerator",e.value.wager_to_release_ratio_numerator),o.append("wager_to_release_ratio_denominator",e.value.wager_to_release_ratio_denominator),o.append("referrer_bonus_lifetime_max",e.value.referrer_bonus_lifetime_max),o.append("reward_points",e.value.reward_points),this.isEditing?this.referrerPurchaseBonusService.editReferrerPurchaseBonus(this.editId,o).subscribe(function(e){r.showLoader=!1,e&&r.router.navigateByUrl("/referrer-purchase-bonus")},function(e){r.showLoader=!1}):this.referrerPurchaseBonusService.addReferrerPurchaseBonus(o).subscribe(function(e){r.showLoader=!1,e&&r.router.navigateByUrl("/referrer-purchase-bonus")},function(e){r.showLoader=!1})}}}])&&r(t.prototype,a),n&&r(t,n),o}()).\u0275fac=function(e){return new(e||w)(p.Mb(l.f),p.Mb(s.d),p.Mb(l.a),p.Mb(_.a),p.Mb(u.a),p.Mb(f.a),p.Mb(p.h),p.Mb(h.e))},w.\u0275cmp=p.Gb({type:w,selectors:[["app-referrer-purchase-bonus-add"]],decls:113,vars:27,consts:[[1,"row"],[1,"col-sm-12"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[3,"cardTitle","options"],[1,"col-md-6"],[1,"form-group"],["type","text","placeholder","code",1,"form-control",3,"formControl"],[1,"control-label","text-md-right"],[1,"date-picker"],[3,"setDate","formControl","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],["for","exampleFormControlTextarea1"],["number","","type","text","placeholder","reward_points",1,"form-control",3,"formControl"],["number","","type","url","placeholder"," otc_max",1,"form-control",3,"formControl"],[1,"input-group","mb-3"],["floatNumber","","type","text","placeholder","reward burn rate percent",1,"form-control",3,"formControl"],[1,"input-group-append"],[1,"input-group-text"],["number","","type","url","placeholder","user redeem limit",1,"form-control",3,"formControl"],["number","","type","url","placeholder","referee lt deposit count",1,"form-control",3,"formControl"],[1,"form-group","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input",3,"formControl"],["for","exampleCheck1",1,"form-check-label"],["number","","bindLabel","name","bindValue","id","placeholder","Select campaign",3,"formControl","items"],["number","","bindLabel","code","bindValue","id","placeholder","Select bonus booster",3,"formControl","items"],["number","","type","text","placeholder","wager_amount",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager bonus expiry",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio numerator",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio denominator",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-2","card-footer"],["type","button","routerLink","/referrer-purchase-bonus",1,"btn","btn-light"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,r){1&e&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.Sb(2,"form",2),p.cc("ngSubmit",function(){return r.submitForm(r.addForm)}),p.Sb(3,"app-card",3),p.Sb(4,"div",0),p.Sb(5,"div",4),p.Sb(6,"div",5),p.Sb(7,"label"),p.Gc(8,"Code "),p.Sb(9,"em"),p.Gc(10,"*"),p.Rb(),p.Rb(),p.Nb(11,"input",6),p.Rb(),p.Sb(12,"div",5),p.Sb(13,"label",7),p.Gc(14,"Valid Until "),p.Rb(),p.Sb(15,"div",8),p.Nb(16,"ng2-flatpickr",9),p.Sb(17,"span",10),p.Nb(18,"span",11),p.Rb(),p.Rb(),p.Rb(),p.Sb(19,"div",5),p.Sb(20,"label",12),p.Gc(21,"reward_points "),p.Sb(22,"em"),p.Gc(23,"*"),p.Rb(),p.Rb(),p.Nb(24,"input",13),p.Rb(),p.Sb(25,"div",5),p.Sb(26,"label",12),p.Gc(27,"otc_max "),p.Sb(28,"em"),p.Gc(29,"*"),p.Rb(),p.Rb(),p.Nb(30,"input",14),p.Rb(),p.Sb(31,"div",5),p.Sb(32,"label",12),p.Gc(33,"otc_percent "),p.Sb(34,"em"),p.Gc(35,"*"),p.Rb(),p.Rb(),p.Sb(36,"div",15),p.Nb(37,"input",16),p.Sb(38,"div",17),p.Sb(39,"span",18),p.Gc(40," % "),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(41,"div",5),p.Sb(42,"label",12),p.Gc(43,"wager_amount "),p.Sb(44,"em"),p.Gc(45,"*"),p.Rb(),p.Rb(),p.Nb(46,"input",19),p.Rb(),p.Sb(47,"div",5),p.Sb(48,"label",12),p.Gc(49,"referrer_bonus_lifetime_max "),p.Sb(50,"em"),p.Gc(51,"*"),p.Rb(),p.Rb(),p.Nb(52,"input",19),p.Rb(),p.Sb(53,"div",5),p.Sb(54,"label",12),p.Gc(55,"Referee lt deposit count "),p.Sb(56,"em"),p.Gc(57,"*"),p.Rb(),p.Rb(),p.Nb(58,"input",20),p.Rb(),p.Sb(59,"div",21),p.Nb(60,"input",22),p.Sb(61,"label",23),p.Gc(62,"Is Active"),p.Rb(),p.Rb(),p.Rb(),p.Sb(63,"div",4),p.Sb(64,"div",5),p.Sb(65,"label"),p.Gc(66,"Campaign "),p.Sb(67,"em"),p.Gc(68,"*"),p.Rb(),p.Rb(),p.Nb(69,"ng-select",24),p.Rb(),p.Sb(70,"div",5),p.Sb(71,"label"),p.Gc(72,"Bonus Booster "),p.Sb(73,"em"),p.Gc(74,"*"),p.Rb(),p.Rb(),p.Nb(75,"ng-select",25),p.Rb(),p.Sb(76,"div",5),p.Sb(77,"label",7),p.Gc(78,"Valid From "),p.Rb(),p.Sb(79,"div",8),p.Nb(80,"ng2-flatpickr",9),p.Sb(81,"span",10),p.Nb(82,"span",11),p.Rb(),p.Rb(),p.Rb(),p.Sb(83,"div",5),p.Sb(84,"label",12),p.Gc(85,"wager_amount "),p.Sb(86,"em"),p.Gc(87,"*"),p.Rb(),p.Rb(),p.Nb(88,"input",26),p.Rb(),p.Sb(89,"div",5),p.Sb(90,"label",12),p.Gc(91,"Wager Bonus Expiry "),p.Sb(92,"em"),p.Gc(93,"*"),p.Rb(),p.Rb(),p.Nb(94,"input",27),p.Rb(),p.Sb(95,"div",5),p.Sb(96,"label",12),p.Gc(97,"Wager To Release Ratio Numerator "),p.Sb(98,"em"),p.Gc(99,"*"),p.Rb(),p.Rb(),p.Nb(100,"input",28),p.Rb(),p.Sb(101,"div",5),p.Sb(102,"label",12),p.Gc(103,"Wager To Release Ratio Denominator "),p.Sb(104,"em"),p.Gc(105,"*"),p.Rb(),p.Rb(),p.Nb(106,"input",29),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(107,"div",30),p.Sb(108,"button",31),p.Gc(109," Cancel "),p.Rb(),p.Sb(110,"button",32),p.Ec(111,y,1,0,"i",33),p.Gc(112," Submit "),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb()),2&e&&(p.yb(2),p.kc("formGroup",r.addForm),p.yb(1),p.kc("cardTitle",r.pageTitle)("options",!1),p.yb(8),p.kc("formControl",r.addForm.controls.code),p.yb(5),p.kc("setDate",r.valid_until)("formControl",r.addForm.controls.valid_until)("config",r.exampleOptions),p.yb(8),p.kc("formControl",r.addForm.controls.reward_points),p.yb(6),p.kc("formControl",r.addForm.controls.otc_max),p.yb(7),p.kc("formControl",r.addForm.controls.otc_percent),p.yb(9),p.kc("formControl",r.addForm.controls.wager_amount),p.yb(6),p.kc("formControl",r.addForm.controls.referrer_bonus_lifetime_max),p.yb(6),p.kc("formControl",r.addForm.controls.referee_lt_deposit_count),p.yb(2),p.kc("formControl",r.addForm.controls.is_active),p.yb(9),p.kc("formControl",r.addForm.controls.campaign)("items",r.campingListArray),p.yb(6),p.kc("formControl",r.addForm.controls.bonus_booster)("items",r.bonusBoosterListArray),p.yb(5),p.kc("setDate",r.valid_from)("formControl",r.addForm.controls.valid_from)("config",r.exampleOptions),p.yb(8),p.kc("formControl",r.addForm.controls.wager_amount),p.yb(6),p.kc("formControl",r.addForm.controls.wager_bonus_expiry),p.yb(6),p.kc("formControl",r.addForm.controls.wager_to_release_ratio_numerator),p.yb(6),p.kc("formControl",r.addForm.controls.wager_to_release_ratio_denominator),p.yb(4),p.kc("disabled",r.showLoader),p.yb(1),p.kc("ngIf",r.showLoader))},directives:[s.s,s.l,g.a,s.f,v.a,s.c,s.k,s.e,S.a,i.a,R.b,R.a,s.a,b.a,l.g,n.m],encapsulation:2}),w),k=a("jLqM"),q=[{path:"",component:C}],G=((x=function r(){e(this,r)}).\u0275mod=p.Kb({type:x}),x.\u0275inj=p.Jb({factory:function(e){return new(e||x)},providers:[u.a,f.a,_.a],imports:[[n.b,s.g,s.p,c.a,b.b,i.b,k.a,l.j.forChild(q)]]}),x)}}])}();