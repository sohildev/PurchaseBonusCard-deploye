(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{hxsM:function(e,r,t){"use strict";t.r(r),t.d(r,"routes",function(){return w}),t.d(r,"ReferrerSignUpBonusAddModule",function(){return y});var o=t("ofXK"),a=t("Jvtu"),i=t("tyNb"),n=t("ZOsW"),s=t("3Pt+"),l=t("ebz3"),b=t("l1aK"),c=t("Lw2Y"),d=t("zzOR"),m=t("fXoL"),p=t("TjkE"),u=t("jhN1"),g=t("VT7O"),_=t("/n7v"),f=t("GgBf"),h=t("hR8x");function v(e,r){1&e&&m.Nb(0,"i",26)}let S=(()=>{class e{constructor(e,r,t,o,a,i,n){this.router=e,this.fb=r,this.activatedRoute=t,this.referrerSignUpBonusService=o,this.campaignService=a,this.cdr=i,this.titleService=n,this.exampleOptions=d.a,this.campingListArray=[],this.loadingState=!1,this.showLoader=!1,this.valid_from=new Date,this.valid_until=new Date,this.formErrors={name:null,apierror:null},this.isEditing=!1,this.editId=null,this.pageTitle="Create Referrer Sign Up Bonus",this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({code:[null,s.q.compose([s.q.required])],campaign:[null,s.q.compose([s.q.required])],otc_amount:[null,s.q.compose([s.q.required])],wager_amount:[null,s.q.compose([s.q.required])],reward_points:[null,s.q.compose([s.q.required])],wager_bonus_expiry:[null,s.q.compose([s.q.required])],wager_to_release_ratio_numerator:[null,s.q.compose([s.q.required])],wager_to_release_ratio_denominator:[null,s.q.compose([s.q.required])],valid_from:[null],valid_until:[null],is_active:[!1]})}ngOnInit(){this.getMasterData(),this.titleService.setTitle(this.pageTitle+" | bonus777 "),this.isEditing&&(this.getEditObject(),this.pageTitle="Update Referrer Sign Up Bonus",this.titleService.setTitle(this.pageTitle+" | bonus777 "))}ngAfterViewChecked(){this.cdr.detectChanges()}getMasterData(){this.campaignService.getCampaignList({}).subscribe(e=>{e&&(this.campingListArray=e)})}getEditObject(){this.referrerSignUpBonusService.getReferrerSignUpBonusById(this.editId).subscribe(e=>{e?(this.valid_from=e.valid_from,this.valid_until=e.valid_until,this.addForm.patchValue({code:e.code,campaign:e.campaign,reward_points:e.reward_points,is_active:e.is_active,otc_amount:e.otc_amount,wager_amount:e.wager_amount,wager_bonus_expiry:e.wager_bonus_expiry,wager_to_release_ratio_numerator:e.wager_to_release_ratio_numerator,wager_to_release_ratio_denominator:e.wager_to_release_ratio_denominator})):this.router.navigateByUrl("/referrer-signup-bonus")})}submitForm(e){if(e.valid){this.showLoader=!0;const r=new FormData;r.append("code",e.value.code),r.append("campaign",e.value.campaign),r.append("reward_points",e.value.reward_points),r.append("valid_from",c.a.changedateFormate(e.value.valid_from[0])),r.append("valid_until",c.a.changedateFormate(e.value.valid_until[0])),r.append("is_active",!!e.value.is_active&&e.value.is_active),r.append("otc_amount",e.value.otc_amount),r.append("wager_amount",e.value.wager_amount),r.append("wager_bonus_expiry",e.value.wager_bonus_expiry),r.append("wager_to_release_ratio_numerator",e.value.wager_to_release_ratio_numerator),r.append("wager_to_release_ratio_denominator",e.value.wager_to_release_ratio_denominator),this.isEditing?this.referrerSignUpBonusService.editReferrerSignUpBonus(this.editId,r).subscribe(e=>{this.showLoader=!1,e&&this.router.navigateByUrl("/referrer-signup-bonus")},e=>{this.showLoader=!1}):this.referrerSignUpBonusService.addReferrerSignUpBonus(r).subscribe(e=>{this.showLoader=!1,e&&this.router.navigateByUrl("/referrer-signup-bonus")},e=>{this.showLoader=!1})}}}return e.\u0275fac=function(r){return new(r||e)(m.Mb(i.f),m.Mb(s.d),m.Mb(i.a),m.Mb(p.a),m.Mb(b.a),m.Mb(m.h),m.Mb(u.e))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-referrer-signup-bonus-add"]],decls:79,vars:21,consts:[[1,"row"],[1,"col-sm-12"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[3,"cardTitle","options"],[1,"col-md-6"],[1,"form-group"],["type","text","placeholder","code",1,"form-control",3,"formControl"],[1,"control-label","text-md-right"],[1,"date-picker"],[3,"setDate","formControl","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],["for","exampleFormControlTextarea1"],["number","","type","text","placeholder","otc amount",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager amount",1,"form-control",3,"formControl"],[1,"form-group","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input",3,"formControl"],["for","exampleCheck1",1,"form-check-label"],["number","","bindLabel","name","bindValue","id","placeholder","Select campaign",3,"formControl","items"],["number","","type","text","placeholder","wager bonus expiry",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio numerator",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio denominator",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-2","card-footer"],["type","button","routerLink","/referrer-signup-bonus",1,"btn","btn-light"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,r){1&e&&(m.Sb(0,"div",0),m.Sb(1,"div",1),m.Sb(2,"form",2),m.cc("ngSubmit",function(){return r.submitForm(r.addForm)}),m.Sb(3,"app-card",3),m.Sb(4,"div",0),m.Sb(5,"div",4),m.Sb(6,"div",5),m.Sb(7,"label"),m.Gc(8,"Code "),m.Sb(9,"em"),m.Gc(10,"*"),m.Rb(),m.Rb(),m.Nb(11,"input",6),m.Rb(),m.Sb(12,"div",5),m.Sb(13,"label",7),m.Gc(14,"Valid Until "),m.Rb(),m.Sb(15,"div",8),m.Nb(16,"ng2-flatpickr",9),m.Sb(17,"span",10),m.Nb(18,"span",11),m.Rb(),m.Rb(),m.Rb(),m.Sb(19,"div",5),m.Sb(20,"label",12),m.Gc(21,"Reward Points "),m.Sb(22,"em"),m.Gc(23,"*"),m.Rb(),m.Rb(),m.Nb(24,"input",13),m.Rb(),m.Sb(25,"div",5),m.Sb(26,"label",12),m.Gc(27,"Otc Amount "),m.Sb(28,"em"),m.Gc(29,"*"),m.Rb(),m.Rb(),m.Nb(30,"input",13),m.Rb(),m.Sb(31,"div",5),m.Sb(32,"label",12),m.Gc(33,"Wager Amount "),m.Sb(34,"em"),m.Gc(35,"*"),m.Rb(),m.Rb(),m.Nb(36,"input",14),m.Rb(),m.Sb(37,"div",15),m.Nb(38,"input",16),m.Sb(39,"label",17),m.Gc(40,"Is Active"),m.Rb(),m.Rb(),m.Rb(),m.Sb(41,"div",4),m.Sb(42,"div",5),m.Sb(43,"label"),m.Gc(44,"Campaign "),m.Sb(45,"em"),m.Gc(46,"*"),m.Rb(),m.Rb(),m.Nb(47,"ng-select",18),m.Rb(),m.Sb(48,"div",5),m.Sb(49,"label",7),m.Gc(50,"Valid From "),m.Rb(),m.Sb(51,"div",8),m.Nb(52,"ng2-flatpickr",9),m.Sb(53,"span",10),m.Nb(54,"span",11),m.Rb(),m.Rb(),m.Rb(),m.Sb(55,"div",5),m.Sb(56,"label",12),m.Gc(57,"Wager Bonus Expiry "),m.Sb(58,"em"),m.Gc(59,"*"),m.Rb(),m.Rb(),m.Nb(60,"input",19),m.Rb(),m.Sb(61,"div",5),m.Sb(62,"label",12),m.Gc(63,"Wager To Release Ratio Numerator "),m.Sb(64,"em"),m.Gc(65,"*"),m.Rb(),m.Rb(),m.Nb(66,"input",20),m.Rb(),m.Sb(67,"div",5),m.Sb(68,"label",12),m.Gc(69,"Wager To Release Ratio Denominator "),m.Sb(70,"em"),m.Gc(71,"*"),m.Rb(),m.Rb(),m.Nb(72,"input",21),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(73,"div",22),m.Sb(74,"button",23),m.Gc(75," Cancel "),m.Rb(),m.Sb(76,"button",24),m.Ec(77,v,1,0,"i",25),m.Gc(78," Submit "),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb()),2&e&&(m.yb(2),m.kc("formGroup",r.addForm),m.yb(1),m.kc("cardTitle",r.pageTitle)("options",!1),m.yb(8),m.kc("formControl",r.addForm.controls.code),m.yb(5),m.kc("setDate",r.valid_until)("formControl",r.addForm.controls.valid_until)("config",r.exampleOptions),m.yb(8),m.kc("formControl",r.addForm.controls.reward_points),m.yb(6),m.kc("formControl",r.addForm.controls.otc_amount),m.yb(6),m.kc("formControl",r.addForm.controls.wager_amount),m.yb(2),m.kc("formControl",r.addForm.controls.is_active),m.yb(9),m.kc("formControl",r.addForm.controls.campaign)("items",r.campingListArray),m.yb(5),m.kc("setDate",r.valid_from)("formControl",r.addForm.controls.valid_from)("config",r.exampleOptions),m.yb(8),m.kc("formControl",r.addForm.controls.wager_bonus_expiry),m.yb(6),m.kc("formControl",r.addForm.controls.wager_to_release_ratio_numerator),m.yb(6),m.kc("formControl",r.addForm.controls.wager_to_release_ratio_denominator),m.yb(4),m.kc("disabled",r.showLoader),m.yb(1),m.kc("ngIf",r.showLoader))},directives:[s.s,s.l,g.a,s.f,_.a,s.c,s.k,s.e,f.a,a.a,h.b,s.a,n.a,i.g,o.m],encapsulation:2}),e})();var R=t("jLqM");const w=[{path:"",component:S}];let y=(()=>{class e{}return e.\u0275mod=m.Kb({type:e}),e.\u0275inj=m.Jb({factory:function(r){return new(r||e)},providers:[b.a],imports:[[o.b,s.g,s.p,l.a,n.b,a.b,R.a,i.j.forChild(w)]]}),e})()}}]);