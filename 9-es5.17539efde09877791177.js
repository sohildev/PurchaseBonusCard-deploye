!function(){function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var o=0;o<r.length;o++){var t=r[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{hxsM:function(o,t,a){"use strict";a.r(t),a.d(t,"routes",function(){return x}),a.d(t,"ReferrerSignUpBonusAddModule",function(){return q});var i=a("ofXK"),n=a("Jvtu"),l=a("tyNb"),s=a("ZOsW"),b=a("3Pt+"),c=a("ebz3"),d=a("l1aK"),u=a("Lw2Y"),m=a("zzOR"),p=a("fXoL"),f=a("TjkE"),g=a("jhN1"),_=a("VT7O"),v=a("/n7v"),h=a("GgBf"),S=a("hR8x");function w(e,r){1&e&&p.Nb(0,"i",26)}var R,y,k=((R=function(){function o(r,t,a,i,n,l,s){e(this,o),this.router=r,this.fb=t,this.activatedRoute=a,this.referrerSignUpBonusService=i,this.campaignService=n,this.cdr=l,this.titleService=s,this.exampleOptions=m.a,this.campingListArray=[],this.loadingState=!1,this.showLoader=!1,this.valid_from=new Date,this.valid_until=new Date,this.formErrors={name:null,apierror:null},this.isEditing=!1,this.editId=null,this.pageTitle="Create Referrer Sign Up Bonus",this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({code:[null,b.q.compose([b.q.required])],campaign:[null,b.q.compose([b.q.required])],otc_amount:[null,b.q.compose([b.q.required])],wager_amount:[null,b.q.compose([b.q.required])],reward_points:[null,b.q.compose([b.q.required])],wager_bonus_expiry:[null,b.q.compose([b.q.required])],wager_to_release_ratio_numerator:[null,b.q.compose([b.q.required])],wager_to_release_ratio_denominator:[null,b.q.compose([b.q.required])],valid_from:[null],valid_until:[null],is_active:[!1]})}var t,a,i;return t=o,(a=[{key:"ngOnInit",value:function(){this.getMasterData(),this.titleService.setTitle(this.pageTitle+" | bonus777 "),this.isEditing&&(this.getEditObject(),this.pageTitle="Update Referrer Sign Up Bonus",this.titleService.setTitle(this.pageTitle+" | bonus777 "))}},{key:"ngAfterViewChecked",value:function(){this.cdr.detectChanges()}},{key:"getMasterData",value:function(){var e=this;this.campaignService.getCampaignList({}).subscribe(function(r){r&&(e.campingListArray=r)})}},{key:"getEditObject",value:function(){var e=this;this.referrerSignUpBonusService.getReferrerSignUpBonusById(this.editId).subscribe(function(r){r?(e.valid_from=r.valid_from,e.valid_until=r.valid_until,e.addForm.patchValue({code:r.code,campaign:r.campaign,reward_points:r.reward_points,is_active:r.is_active,otc_amount:r.otc_amount,wager_amount:r.wager_amount,wager_bonus_expiry:r.wager_bonus_expiry,wager_to_release_ratio_numerator:r.wager_to_release_ratio_numerator,wager_to_release_ratio_denominator:r.wager_to_release_ratio_denominator})):e.router.navigateByUrl("/referrer-signup-bonus")})}},{key:"submitForm",value:function(e){var r=this;if(e.valid){this.showLoader=!0;var o=new FormData;o.append("code",e.value.code),o.append("campaign",e.value.campaign),o.append("reward_points",e.value.reward_points),o.append("valid_from",u.a.changedateFormate(e.value.valid_from[0])),o.append("valid_until",u.a.changedateFormate(e.value.valid_until[0])),o.append("is_active",!!e.value.is_active&&e.value.is_active),o.append("otc_amount",e.value.otc_amount),o.append("wager_amount",e.value.wager_amount),o.append("wager_bonus_expiry",e.value.wager_bonus_expiry),o.append("wager_to_release_ratio_numerator",e.value.wager_to_release_ratio_numerator),o.append("wager_to_release_ratio_denominator",e.value.wager_to_release_ratio_denominator),this.isEditing?this.referrerSignUpBonusService.editReferrerSignUpBonus(this.editId,o).subscribe(function(e){r.showLoader=!1,e&&r.router.navigateByUrl("/referrer-signup-bonus")},function(e){r.showLoader=!1}):this.referrerSignUpBonusService.addReferrerSignUpBonus(o).subscribe(function(e){r.showLoader=!1,e&&r.router.navigateByUrl("/referrer-signup-bonus")},function(e){r.showLoader=!1})}}}])&&r(t.prototype,a),i&&r(t,i),o}()).\u0275fac=function(e){return new(e||R)(p.Mb(l.f),p.Mb(b.d),p.Mb(l.a),p.Mb(f.a),p.Mb(d.a),p.Mb(p.h),p.Mb(g.e))},R.\u0275cmp=p.Gb({type:R,selectors:[["app-referrer-signup-bonus-add"]],decls:79,vars:21,consts:[[1,"row"],[1,"col-sm-12"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[3,"cardTitle","options"],[1,"col-md-6"],[1,"form-group"],["type","text","placeholder","code",1,"form-control",3,"formControl"],[1,"control-label","text-md-right"],[1,"date-picker"],[3,"setDate","formControl","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],["for","exampleFormControlTextarea1"],["number","","type","text","placeholder","otc amount",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager amount",1,"form-control",3,"formControl"],[1,"form-group","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input",3,"formControl"],["for","exampleCheck1",1,"form-check-label"],["number","","bindLabel","name","bindValue","id","placeholder","Select campaign",3,"formControl","items"],["number","","type","text","placeholder","wager bonus expiry",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio numerator",1,"form-control",3,"formControl"],["number","","type","text","placeholder","wager to release ratio denominator",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-2","card-footer"],["type","button","routerLink","/referrer-signup-bonus",1,"btn","btn-light"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,r){1&e&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.Sb(2,"form",2),p.cc("ngSubmit",function(){return r.submitForm(r.addForm)}),p.Sb(3,"app-card",3),p.Sb(4,"div",0),p.Sb(5,"div",4),p.Sb(6,"div",5),p.Sb(7,"label"),p.Gc(8,"Code "),p.Sb(9,"em"),p.Gc(10,"*"),p.Rb(),p.Rb(),p.Nb(11,"input",6),p.Rb(),p.Sb(12,"div",5),p.Sb(13,"label",7),p.Gc(14,"Valid Until "),p.Rb(),p.Sb(15,"div",8),p.Nb(16,"ng2-flatpickr",9),p.Sb(17,"span",10),p.Nb(18,"span",11),p.Rb(),p.Rb(),p.Rb(),p.Sb(19,"div",5),p.Sb(20,"label",12),p.Gc(21,"Reward Points "),p.Sb(22,"em"),p.Gc(23,"*"),p.Rb(),p.Rb(),p.Nb(24,"input",13),p.Rb(),p.Sb(25,"div",5),p.Sb(26,"label",12),p.Gc(27,"Otc Amount "),p.Sb(28,"em"),p.Gc(29,"*"),p.Rb(),p.Rb(),p.Nb(30,"input",13),p.Rb(),p.Sb(31,"div",5),p.Sb(32,"label",12),p.Gc(33,"Wager Amount "),p.Sb(34,"em"),p.Gc(35,"*"),p.Rb(),p.Rb(),p.Nb(36,"input",14),p.Rb(),p.Sb(37,"div",15),p.Nb(38,"input",16),p.Sb(39,"label",17),p.Gc(40,"Is Active"),p.Rb(),p.Rb(),p.Rb(),p.Sb(41,"div",4),p.Sb(42,"div",5),p.Sb(43,"label"),p.Gc(44,"Campaign "),p.Sb(45,"em"),p.Gc(46,"*"),p.Rb(),p.Rb(),p.Nb(47,"ng-select",18),p.Rb(),p.Sb(48,"div",5),p.Sb(49,"label",7),p.Gc(50,"Valid From "),p.Rb(),p.Sb(51,"div",8),p.Nb(52,"ng2-flatpickr",9),p.Sb(53,"span",10),p.Nb(54,"span",11),p.Rb(),p.Rb(),p.Rb(),p.Sb(55,"div",5),p.Sb(56,"label",12),p.Gc(57,"Wager Bonus Expiry "),p.Sb(58,"em"),p.Gc(59,"*"),p.Rb(),p.Rb(),p.Nb(60,"input",19),p.Rb(),p.Sb(61,"div",5),p.Sb(62,"label",12),p.Gc(63,"Wager To Release Ratio Numerator "),p.Sb(64,"em"),p.Gc(65,"*"),p.Rb(),p.Rb(),p.Nb(66,"input",20),p.Rb(),p.Sb(67,"div",5),p.Sb(68,"label",12),p.Gc(69,"Wager To Release Ratio Denominator "),p.Sb(70,"em"),p.Gc(71,"*"),p.Rb(),p.Rb(),p.Nb(72,"input",21),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(73,"div",22),p.Sb(74,"button",23),p.Gc(75," Cancel "),p.Rb(),p.Sb(76,"button",24),p.Ec(77,w,1,0,"i",25),p.Gc(78," Submit "),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb()),2&e&&(p.yb(2),p.kc("formGroup",r.addForm),p.yb(1),p.kc("cardTitle",r.pageTitle)("options",!1),p.yb(8),p.kc("formControl",r.addForm.controls.code),p.yb(5),p.kc("setDate",r.valid_until)("formControl",r.addForm.controls.valid_until)("config",r.exampleOptions),p.yb(8),p.kc("formControl",r.addForm.controls.reward_points),p.yb(6),p.kc("formControl",r.addForm.controls.otc_amount),p.yb(6),p.kc("formControl",r.addForm.controls.wager_amount),p.yb(2),p.kc("formControl",r.addForm.controls.is_active),p.yb(9),p.kc("formControl",r.addForm.controls.campaign)("items",r.campingListArray),p.yb(5),p.kc("setDate",r.valid_from)("formControl",r.addForm.controls.valid_from)("config",r.exampleOptions),p.yb(8),p.kc("formControl",r.addForm.controls.wager_bonus_expiry),p.yb(6),p.kc("formControl",r.addForm.controls.wager_to_release_ratio_numerator),p.yb(6),p.kc("formControl",r.addForm.controls.wager_to_release_ratio_denominator),p.yb(4),p.kc("disabled",r.showLoader),p.yb(1),p.kc("ngIf",r.showLoader))},directives:[b.s,b.l,_.a,b.f,v.a,b.c,b.k,b.e,h.a,n.a,S.b,b.a,s.a,l.g,i.m],encapsulation:2}),R),C=a("jLqM"),x=[{path:"",component:k}],q=((y=function r(){e(this,r)}).\u0275mod=p.Kb({type:y}),y.\u0275inj=p.Jb({factory:function(e){return new(e||y)},providers:[d.a],imports:[[i.b,b.g,b.p,c.a,s.b,n.b,C.a,l.j.forChild(x)]]}),y)}}])}();